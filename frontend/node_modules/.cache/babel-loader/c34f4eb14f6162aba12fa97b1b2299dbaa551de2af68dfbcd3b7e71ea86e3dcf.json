{"ast":null,"code":"var _jsxFileName = \"/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/MenuDisplay.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport ProductCard from './ProductCard';\nimport ProductRow from './ProductRow';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MenuDisplay = ({\n  products,\n  vendorName,\n  logoUrl,\n  vendorId\n}) => {\n  _s();\n  const [viewType, setViewType] = useState({}); // Store view type for each category ('card' or 'row')\n\n  if (!products || products.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No products available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 12\n    }, this); // Handle empty or undefined products\n  }\n\n  // Step 1: Sort products so products with salePrice appear first\n  const sortedProducts = [...products].sort((a, b) => {\n    const aHasSalePrice = (a === null || a === void 0 ? void 0 : a.salePrice) != null;\n    const bHasSalePrice = (b === null || b === void 0 ? void 0 : b.salePrice) != null;\n\n    // Products with salePrice come first\n    if (aHasSalePrice && !bHasSalePrice) return -1;\n    if (!aHasSalePrice && bHasSalePrice) return 1;\n    return 0; // Maintain order otherwise\n  });\n\n  // Step 2: Group sorted products by category\n  const productsByCategory = sortedProducts.reduce((categories, product) => {\n    const category = product.category || 'Uncategorized'; // Default to 'Uncategorized' if no category\n    if (!categories[category]) {\n      categories[category] = [];\n    }\n    categories[category].push(product);\n    return categories;\n  }, {});\n  const toggleViewType = category => {\n    setViewType(prev => ({\n      ...prev,\n      [category]: prev[category] === 'row' ? 'card' : 'row'\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: '#FAFAFA',\n      padding: '2rem 1rem',\n      position: 'relative',\n      overflow: 'hidden'\n    },\n    children: Object.keys(productsByCategory).map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-center mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          style: {\n            fontWeight: 'bold',\n            textTransform: 'uppercase',\n            borderBottom: '2px solid #ddd',\n            paddingBottom: '0.5rem',\n            margin: 0\n          },\n          children: category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-outline-secondary\",\n          onClick: () => toggleViewType(category),\n          style: {\n            fontSize: '0.8rem',\n            position: 'relative',\n            top: '-3px'\n          },\n          children: viewType[category] === 'row' ? 'View as Cards' : 'View as Rows'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), viewType[category] === 'row' ?\n      /*#__PURE__*/\n      // ProductRow View\n      _jsxDEV(\"div\", {\n        children: productsByCategory[category].map(product => /*#__PURE__*/_jsxDEV(ProductRow, {\n          product: product,\n          vendorName: vendorName,\n          logoUrl: logoUrl,\n          vendorId: vendorId\n        }, `${product._id}-row`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this) :\n      /*#__PURE__*/\n      // ProductCard Carousel View\n      _jsxDEV(\"div\", {\n        className: \"d-flex overflow-auto\",\n        style: {\n          paddingBottom: '10px',\n          scrollbarWidth: 'thin'\n        },\n        children: productsByCategory[category].map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          // Ensure unique key\n          className: \"me-2\",\n          style: {\n            minWidth: '200px',\n            flex: '0 0 auto'\n          },\n          children: /*#__PURE__*/_jsxDEV(ProductCard, {\n            product: product,\n            vendorName: vendorName,\n            logoUrl: logoUrl,\n            vendorId: vendorId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 19\n          }, this)\n        }, `${product._id}-${product.strain}-${product.amount}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)]\n    }, category, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(MenuDisplay, \"0vdi7g0lyztGj8xm5XTg2XPHLcg=\");\n_c = MenuDisplay;\nexport default MenuDisplay;\nvar _c;\n$RefreshReg$(_c, \"MenuDisplay\");","map":{"version":3,"names":["React","useState","ProductCard","ProductRow","jsxDEV","_jsxDEV","MenuDisplay","products","vendorName","logoUrl","vendorId","_s","viewType","setViewType","length","children","fileName","_jsxFileName","lineNumber","columnNumber","sortedProducts","sort","a","b","aHasSalePrice","salePrice","bHasSalePrice","productsByCategory","reduce","categories","product","category","push","toggleViewType","prev","style","backgroundColor","padding","position","overflow","Object","keys","map","marginBottom","className","fontWeight","textTransform","borderBottom","paddingBottom","margin","onClick","fontSize","top","_id","scrollbarWidth","minWidth","flex","strain","amount","_c","$RefreshReg$"],"sources":["/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/MenuDisplay.js"],"sourcesContent":["import React, { useState } from 'react';\nimport ProductCard from './ProductCard';\nimport ProductRow from './ProductRow';\n\nconst MenuDisplay = ({ products, vendorName, logoUrl, vendorId }) => {\n  const [viewType, setViewType] = useState({}); // Store view type for each category ('card' or 'row')\n\n  if (!products || products.length === 0) {\n    return <p>No products available.</p>; // Handle empty or undefined products\n  }\n\n  // Step 1: Sort products so products with salePrice appear first\n  const sortedProducts = [...products].sort((a, b) => {\n    const aHasSalePrice = a?.salePrice != null;\n    const bHasSalePrice = b?.salePrice != null;\n\n    // Products with salePrice come first\n    if (aHasSalePrice && !bHasSalePrice) return -1;\n    if (!aHasSalePrice && bHasSalePrice) return 1;\n    return 0; // Maintain order otherwise\n  });\n\n  // Step 2: Group sorted products by category\n  const productsByCategory = sortedProducts.reduce((categories, product) => {\n    const category = product.category || 'Uncategorized'; // Default to 'Uncategorized' if no category\n    if (!categories[category]) {\n      categories[category] = [];\n    }\n    categories[category].push(product);\n    return categories;\n  }, {});\n\n  const toggleViewType = (category) => {\n    setViewType((prev) => ({\n      ...prev,\n      [category]: prev[category] === 'row' ? 'card' : 'row',\n    }));\n  };\n\n  return (\n    <div\n      style={{\n        backgroundColor: '#FAFAFA',\n        padding: '2rem 1rem',\n        position: 'relative',\n        overflow: 'hidden',\n      }}\n    >\n      {Object.keys(productsByCategory).map((category) => (\n        <div key={category} style={{ marginBottom: '2rem' }}>\n          {/* Category Heading with Toggle Button */}\n          <div className=\"d-flex justify-content-between align-items-center mb-3\">\n            <h5\n              style={{\n                fontWeight: 'bold',\n                textTransform: 'uppercase',\n                borderBottom: '2px solid #ddd',\n                paddingBottom: '0.5rem',\n                margin: 0,\n              }}\n            >\n              {category}\n            </h5>\n            <button\n              className=\"btn btn-sm btn-outline-secondary\"\n              onClick={() => toggleViewType(category)}\n              style={{ fontSize: '0.8rem', position: 'relative', top: '-3px', }}\n            >\n              {viewType[category] === 'row' ? 'View as Cards' : 'View as Rows'}\n            </button>\n          </div>\n\n          {/* Products Display */}\n          {viewType[category] === 'row' ? (\n            // ProductRow View\n            <div>\n              {productsByCategory[category].map((product) => (\n                <ProductRow\n                  key={`${product._id}-row`}\n                  product={product}\n                  vendorName={vendorName}\n                  logoUrl={logoUrl}\n                  vendorId={vendorId}\n                />\n              ))}\n            </div>\n          ) : (\n            // ProductCard Carousel View\n            <div className=\"d-flex overflow-auto\" style={{ paddingBottom: '10px', scrollbarWidth: 'thin' }}>\n              {productsByCategory[category].map((product) => (\n                <div\n                  key={`${product._id}-${product.strain}-${product.amount}`} // Ensure unique key\n                  className=\"me-2\"\n                  style={{ minWidth: '200px', flex: '0 0 auto' }}\n                >\n                  <ProductCard\n                    product={product}\n                    vendorName={vendorName}\n                    logoUrl={logoUrl}\n                    vendorId={vendorId}\n                  />\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default MenuDisplay;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}