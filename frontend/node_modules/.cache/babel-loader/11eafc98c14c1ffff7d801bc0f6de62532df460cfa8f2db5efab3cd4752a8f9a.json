{"ast":null,"code":"var _jsxFileName = \"/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/VendorMap.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport VendorCard from './VendorCard';\nimport ProductCard from './ProductCard';\nimport api from '../api/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VendorDisplay = () => {\n  _s();\n  const [vendors, setVendors] = useState([]);\n  const [selectedVendor, setSelectedVendor] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchVendorDetails = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const response = await api.get('/api/map/map-vendors');\n        if (!response.data.success) {\n          setError('Failed to load vendor details. Please try again later.');\n          return;\n        }\n\n        // Process vendors for detailed information\n        const transformedVendors = response.data.vendors.map(vendor => ({\n          ...vendor,\n          _id: vendor._id.toString(),\n          businessHours: vendor.businessHours || {},\n          acceptedPayments: vendor.acceptedPayments || [],\n          minOrder: vendor.minOrder || 0,\n          products: vendor.products || [],\n          dailyPromo: vendor.dailyPromo || {\n            applicableToSaleItems: false\n          }\n        }));\n        setVendors(transformedVendors);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        console.error('Error fetching vendor details:', err);\n        setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to load vendor details. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchVendorDetails();\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xl\",\n        children: \"Loading vendors...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xl text-red-600\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-4\",\n      children: [\"Available Dispensaries (\", vendors.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: vendors.map(vendor => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(VendorCard, {\n          vendor: vendor,\n          orderType: vendor.dispensaryType.toLowerCase(),\n          isSelected: (selectedVendor === null || selectedVendor === void 0 ? void 0 : selectedVendor._id) === vendor._id,\n          onClick: () => setSelectedVendor((selectedVendor === null || selectedVendor === void 0 ? void 0 : selectedVendor._id) === vendor._id ? null : vendor)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), (selectedVendor === null || selectedVendor === void 0 ? void 0 : selectedVendor._id) === vendor._id && vendor.products.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pl-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold mb-3\",\n            children: \"Available Products\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 sm:grid-cols-2 gap-4\",\n            children: vendor.products.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n              product: product,\n              vendorId: vendor._id\n            }, product._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this)]\n      }, vendor._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(VendorDisplay, \"Xxm0AVu+6GPHqrXVnJL2I09uTtk=\");\n_c = VendorDisplay;\nexport default VendorDisplay;\nvar _c;\n$RefreshReg$(_c, \"VendorDisplay\");","map":{"version":3,"names":["React","useState","useEffect","VendorCard","ProductCard","api","jsxDEV","_jsxDEV","VendorDisplay","_s","vendors","setVendors","selectedVendor","setSelectedVendor","loading","setLoading","error","setError","fetchVendorDetails","response","get","data","success","transformedVendors","map","vendor","_id","toString","businessHours","acceptedPayments","minOrder","products","dailyPromo","applicableToSaleItems","err","_err$response","_err$response$data","console","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","orderType","dispensaryType","toLowerCase","isSelected","onClick","product","vendorId","_c","$RefreshReg$"],"sources":["/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/VendorMap.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport VendorCard from './VendorCard';\nimport ProductCard from './ProductCard';\nimport api from '../api/api';\n\nconst VendorDisplay = () => {\n  const [vendors, setVendors] = useState([]);\n  const [selectedVendor, setSelectedVendor] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchVendorDetails = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const response = await api.get('/api/map/map-vendors');\n        \n        if (!response.data.success) {\n          setError('Failed to load vendor details. Please try again later.');\n          return;\n        }\n\n        // Process vendors for detailed information\n        const transformedVendors = response.data.vendors\n          .map(vendor => ({\n            ...vendor,\n            _id: vendor._id.toString(),\n            businessHours: vendor.businessHours || {},\n            acceptedPayments: vendor.acceptedPayments || [],\n            minOrder: vendor.minOrder || 0,\n            products: vendor.products || [],\n            dailyPromo: vendor.dailyPromo || { applicableToSaleItems: false }\n          }));\n\n        setVendors(transformedVendors);\n      } catch (err) {\n        console.error('Error fetching vendor details:', err);\n        setError(err.response?.data?.message || 'Failed to load vendor details. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchVendorDetails();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"text-xl\">Loading vendors...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"text-xl text-red-600\">{error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto p-4\">\n      <h2 className=\"text-2xl font-semibold mb-4\">\n        Available Dispensaries ({vendors.length})\n      </h2>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {vendors.map(vendor => (\n          <div key={vendor._id} className=\"space-y-4\">\n            <VendorCard\n              vendor={vendor}\n              orderType={vendor.dispensaryType.toLowerCase()}\n              isSelected={selectedVendor?._id === vendor._id}\n              onClick={() => setSelectedVendor(selectedVendor?._id === vendor._id ? null : vendor)}\n            />\n            \n            {selectedVendor?._id === vendor._id && vendor.products.length > 0 && (\n              <div className=\"pl-4\">\n                <h3 className=\"text-xl font-semibold mb-3\">Available Products</h3>\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                  {vendor.products.map(product => (\n                    <ProductCard\n                      key={product._id}\n                      product={product}\n                      vendorId={vendor._id}\n                    />\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default VendorDisplay;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}