{"ast":null,"code":"import React,{useState}from'react';import ProductCard from'./ProductCard';import ProductRow from'./ProductRow';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MenuDisplay=_ref=>{let{products,vendorName,logoUrl,vendorId,orderType}=_ref;const[viewType,setViewType]=useState({});// Store view type for each category ('card' or 'row')\nif(!products||products.length===0){return/*#__PURE__*/_jsx(\"p\",{children:\"No products available.\"});// Handle empty or undefined products\n}// Step 1: Sort products so products with salePrice appear first\nconst sortedProducts=[...products].sort((a,b)=>{const aHasSalePrice=(a===null||a===void 0?void 0:a.salePrice)!=null;const bHasSalePrice=(b===null||b===void 0?void 0:b.salePrice)!=null;// Products with salePrice come first\nif(aHasSalePrice&&!bHasSalePrice)return-1;if(!aHasSalePrice&&bHasSalePrice)return 1;return 0;// Maintain order otherwise\n});// Step 2: Group sorted products by category\nconst productsByCategory=sortedProducts.reduce((categories,product)=>{const category=product.category||'Uncategorized';// Default to 'Uncategorized' if no category\nif(!categories[category]){categories[category]=[];}categories[category].push(product);return categories;},{});const toggleViewType=category=>{setViewType(prev=>({...prev,[category]:prev[category]==='row'?'card':'row'}));};return/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#FFF',padding:'2rem 1rem',position:'relative',overflow:'hidden'},children:Object.keys(productsByCategory).map(category=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"h5\",{style:{fontWeight:'bold',textTransform:'uppercase',borderBottom:'2px solid #ddd',paddingBottom:'0.5rem',margin:0},children:category}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-secondary\",onClick:()=>toggleViewType(category),style:{fontSize:'0.8rem',position:'relative',top:'-3px'},children:viewType[category]==='row'?'View as Cards':'View as Rows'})]}),viewType[category]==='row'?/*#__PURE__*/// ProductRow View\n_jsx(\"div\",{children:productsByCategory[category].map(product=>/*#__PURE__*/_jsx(ProductRow,{product:product,vendorName:vendorName,logoUrl:logoUrl,vendorId:vendorId,orderType:orderType},`${product._id}-row`))}):/*#__PURE__*/// ProductCard Carousel View\n_jsx(\"div\",{className:\"d-flex overflow-auto\",style:{paddingBottom:'10px',scrollbarWidth:'thin'},children:productsByCategory[category].map(product=>/*#__PURE__*/_jsx(\"div\",{// Ensure unique key\nclassName:\"me-2\",style:{minWidth:'200px',flex:'0 0 auto'},children:/*#__PURE__*/_jsx(ProductCard,{product:product,vendorName:vendorName,logoUrl:logoUrl,vendorId:vendorId,orderType:orderType})},`${product._id}-${product.strain}-${product.amount}`))})]},category))});};export default MenuDisplay;","map":{"version":3,"names":["React","useState","ProductCard","ProductRow","jsx","_jsx","jsxs","_jsxs","MenuDisplay","_ref","products","vendorName","logoUrl","vendorId","orderType","viewType","setViewType","length","children","sortedProducts","sort","a","b","aHasSalePrice","salePrice","bHasSalePrice","productsByCategory","reduce","categories","product","category","push","toggleViewType","prev","style","backgroundColor","padding","position","overflow","Object","keys","map","marginBottom","className","fontWeight","textTransform","borderBottom","paddingBottom","margin","onClick","fontSize","top","_id","scrollbarWidth","minWidth","flex","strain","amount"],"sources":["/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/MenuDisplay.js"],"sourcesContent":["import React, { useState } from 'react';\nimport ProductCard from './ProductCard';\nimport ProductRow from './ProductRow';\n\nconst MenuDisplay = ({ products, vendorName, logoUrl, vendorId, orderType }) => {\n  const [viewType, setViewType] = useState({}); // Store view type for each category ('card' or 'row')\n\n  if (!products || products.length === 0) {\n    return <p>No products available.</p>; // Handle empty or undefined products\n  }\n\n  // Step 1: Sort products so products with salePrice appear first\n  const sortedProducts = [...products].sort((a, b) => {\n    const aHasSalePrice = a?.salePrice != null;\n    const bHasSalePrice = b?.salePrice != null;\n\n    // Products with salePrice come first\n    if (aHasSalePrice && !bHasSalePrice) return -1;\n    if (!aHasSalePrice && bHasSalePrice) return 1;\n    return 0; // Maintain order otherwise\n  });\n\n  // Step 2: Group sorted products by category\n  const productsByCategory = sortedProducts.reduce((categories, product) => {\n    const category = product.category || 'Uncategorized'; // Default to 'Uncategorized' if no category\n    if (!categories[category]) {\n      categories[category] = [];\n    }\n    categories[category].push(product);\n    return categories;\n  }, {});\n\n  const toggleViewType = (category) => {\n    setViewType((prev) => ({\n      ...prev,\n      [category]: prev[category] === 'row' ? 'card' : 'row',\n    }));\n  };\n\n  return (\n    <div\n      style={{\n        backgroundColor: '#FFF',\n        padding: '2rem 1rem',\n        position: 'relative',\n        overflow: 'hidden',\n      }}\n    >\n      {Object.keys(productsByCategory).map((category) => (\n        <div key={category} style={{ marginBottom: '2rem' }}>\n          {/* Category Heading with Toggle Button */}\n          <div className=\"d-flex justify-content-between align-items-center mb-3\">\n            <h5\n              style={{\n                fontWeight: 'bold',\n                textTransform: 'uppercase',\n                borderBottom: '2px solid #ddd',\n                paddingBottom: '0.5rem',\n                margin: 0,\n              }}\n            >\n              {category}\n            </h5>\n            <button\n              className=\"btn btn-sm btn-outline-secondary\"\n              onClick={() => toggleViewType(category)}\n              style={{ fontSize: '0.8rem', position: 'relative', top: '-3px', }}\n            >\n              {viewType[category] === 'row' ? 'View as Cards' : 'View as Rows'}\n            </button>\n          </div>\n\n          {/* Products Display */}\n          {viewType[category] === 'row' ? (\n            // ProductRow View\n            <div>\n              {productsByCategory[category].map((product) => (\n                <ProductRow\n                  key={`${product._id}-row`}\n                  product={product}\n                  vendorName={vendorName}\n                  logoUrl={logoUrl}\n                  vendorId={vendorId}\n                  orderType={orderType}\n                />\n              ))}\n            </div>\n          ) : (\n            // ProductCard Carousel View\n            <div className=\"d-flex overflow-auto\" style={{ paddingBottom: '10px', scrollbarWidth: 'thin' }}>\n              {productsByCategory[category].map((product) => (\n                <div\n                  key={`${product._id}-${product.strain}-${product.amount}`} // Ensure unique key\n                  className=\"me-2\"\n                  style={{ minWidth: '200px', flex: '0 0 auto' }}\n                >\n                  <ProductCard\n                    product={product}\n                    vendorName={vendorName}\n                    logoUrl={logoUrl}\n                    vendorId={vendorId}\n                    orderType={orderType}\n                  />\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default MenuDisplay;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}