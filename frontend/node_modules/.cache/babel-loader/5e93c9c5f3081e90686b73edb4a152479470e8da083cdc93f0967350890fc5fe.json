{"ast":null,"code":"import React,{useContext,useState}from'react';import{CartContext}from'../context/CartContext';import ProductDetails from'./ProductDetails';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductRow=_ref=>{var _product$price,_product$salePrice,_product$tags,_product$tags2;let{product,vendorName,logoUrl,vendorId,orderType}=_ref;const{addToCart}=useContext(CartContext);const[showDetails,setShowDetails]=useState(false);const handleDetailsOpen=()=>setShowDetails(true);const handleDetailsClose=()=>setShowDetails(false);// Safeguard values\nconst price=(_product$price=product.price)!==null&&_product$price!==void 0?_product$price:0;const salePrice=(_product$salePrice=product.salePrice)!==null&&_product$salePrice!==void 0?_product$salePrice:null;const strain=product.strain;const image=product.image||'/placeholder-image.png';const amount=product.amount||'N/A';// Get tag to display - prioritize 'Staff Pick' if present\nconst displayTag=(_product$tags=product.tags)!==null&&_product$tags!==void 0&&_product$tags.includes('Staff Pick')?'Staff Pick':(_product$tags2=product.tags)===null||_product$tags2===void 0?void 0:_product$tags2[0];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center border-bottom py-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-4 position-relative\",onClick:handleDetailsOpen,style:{cursor:'pointer'},children:[salePrice&&/*#__PURE__*/_jsx(\"span\",{className:\"badge rounded-pill text-white position-absolute\",style:{backgroundColor:'#FF0080',fontSize:'0.7rem',padding:'0.3rem 0.6rem',top:'5px',left:'5px',zIndex:1},children:\"SALE\"}),displayTag&&/*#__PURE__*/_jsx(\"span\",{className:\"badge rounded-pill text-white position-absolute\",style:{backgroundColor:displayTag==='Staff Pick'?'#4CAF50':'#2196F3',fontSize:'0.7rem',padding:'0.3rem 0.6rem',bottom:'5px',left:'5px',zIndex:1},children:displayTag}),/*#__PURE__*/_jsx(\"img\",{src:image,alt:product.name||'Product Image',className:\"img-fluid rounded\",style:{width:'110px',height:'110px',objectFit:'cover'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-1\",style:{fontSize:'0.9rem',fontWeight:'600',marginBottom:'0',cursor:'pointer'},onClick:handleDetailsOpen,children:product.brand||'No Brand'}),/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-outline-secondary ms-5\",style:{fontSize:'0.8rem',padding:'0.25rem 0.5rem',color:'#434343',backgroundColor:'#EFEFEF',position:'relative',top:'-2.5px'},children:amount})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-dark mb-1\",style:{fontSize:'1rem',fontWeight:'normal',cursor:'pointer'},onClick:handleDetailsOpen,children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-2\",style:{fontSize:'0.9rem',fontWeight:'normal',cursor:'pointer'},onClick:handleDetailsOpen,children:strain||'No Strain'}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center\",children:salePrice?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-light text-danger fw-bold\",style:{fontSize:'1.1rem',padding:'0.5rem 1rem',borderRadius:'0.5rem'},children:[\"$\",salePrice.toFixed(2)]}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.85rem',textDecoration:'line-through',color:'#888',marginLeft:'0.5rem'},children:[\"$\",price.toFixed(2)]})]}):/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-light text-dark fw-bold\",style:{fontSize:'1.1rem',padding:'0.5rem 1rem',borderRadius:'0.5rem'},children:[\"$\",price.toFixed(2)]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2 text-end\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary rounded-circle\",style:{width:'2.5rem',height:'2.5rem',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'1.5rem',fontWeight:'bold'},onClick:e=>{e.stopPropagation();addToCart({...product,price:price,salePrice:salePrice,vendorName,logoUrl,primaryImage:image,strain:strain,vendorId,productId:product._id,orderType});},children:\"+\"})})]}),/*#__PURE__*/_jsx(ProductDetails,{show:showDetails,handleClose:handleDetailsClose,product:product,vendorName:vendorName,logoUrl:logoUrl,vendorId:vendorId})]});};export default ProductRow;","map":{"version":3,"names":["React","useContext","useState","CartContext","ProductDetails","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductRow","_ref","_product$price","_product$salePrice","_product$tags","_product$tags2","product","vendorName","logoUrl","vendorId","orderType","addToCart","showDetails","setShowDetails","handleDetailsOpen","handleDetailsClose","price","salePrice","strain","image","amount","displayTag","tags","includes","children","className","onClick","style","cursor","backgroundColor","fontSize","padding","top","left","zIndex","bottom","src","alt","name","width","height","objectFit","fontWeight","marginBottom","brand","color","position","borderRadius","toFixed","textDecoration","marginLeft","display","alignItems","justifyContent","e","stopPropagation","primaryImage","productId","_id","show","handleClose"],"sources":["/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/ProductRow.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport { CartContext } from '../context/CartContext';\nimport ProductDetails from './ProductDetails';\n\nconst ProductRow = ({ product, vendorName, logoUrl, vendorId, orderType }) => {\n  const { addToCart } = useContext(CartContext);\n  const [showDetails, setShowDetails] = useState(false);\n\n  const handleDetailsOpen = () => setShowDetails(true);\n  const handleDetailsClose = () => setShowDetails(false);\n\n  // Safeguard values\n  const price = product.price ?? 0;\n  const salePrice = product.salePrice ?? null;\n  const strain = product.strain;\n  const image = product.image || '/placeholder-image.png';\n  const amount = product.amount || 'N/A';\n  \n  // Get tag to display - prioritize 'Staff Pick' if present\n  const displayTag = product.tags?.includes('Staff Pick') \n    ? 'Staff Pick' \n    : product.tags?.[0];\n\n  return (\n    <>\n      <div className=\"row align-items-center border-bottom py-3\">\n        {/* Product Image */}\n        <div className=\"col-4 position-relative\" onClick={handleDetailsOpen} style={{ cursor: 'pointer' }}>\n          {/* Sale Badge */}\n          {salePrice && (\n            <span\n              className=\"badge rounded-pill text-white position-absolute\"\n              style={{\n                backgroundColor: '#FF0080',\n                fontSize: '0.7rem',\n                padding: '0.3rem 0.6rem',\n                top: '5px',\n                left: '5px',\n                zIndex: 1,\n              }}\n            >\n              SALE\n            </span>\n          )}\n          \n          {/* Tag Badge - Now positioned at bottom left */}\n          {displayTag && (\n            <span\n              className=\"badge rounded-pill text-white position-absolute\"\n              style={{\n                backgroundColor: displayTag === 'Staff Pick' ? '#4CAF50' : '#2196F3',\n                fontSize: '0.7rem',\n                padding: '0.3rem 0.6rem',\n                bottom: '5px',\n                left: '5px',\n                zIndex: 1,\n              }}\n            >\n              {displayTag}\n            </span>\n          )}\n\n          <img\n            src={image}\n            alt={product.name || 'Product Image'}\n            className=\"img-fluid rounded\"\n            style={{\n              width: '110px',\n              height: '110px',\n              objectFit: 'cover',\n            }}\n          />\n        </div>\n\n        {/* Product Info */}\n        <div className=\"col-6 d-flex flex-column\">\n          {/* Brand and Amount Row */}\n          <div className=\"d-flex align-items-center\">\n            {/* Product Brand */}\n            <p\n              className=\"mb-1\"\n              style={{\n                fontSize: '0.9rem',\n                fontWeight: '600',\n                marginBottom: '0',\n                cursor: 'pointer',\n              }}\n              onClick={handleDetailsOpen}\n            >\n              {product.brand || 'No Brand'}\n            </p>\n\n            {/* Amount Badge */}\n            <span\n              className=\"badge bg-outline-secondary ms-5\"\n              style={{\n                fontSize: '0.8rem',\n                padding: '0.25rem 0.5rem',\n                color: '#434343',\n                backgroundColor: '#EFEFEF',\n                position: 'relative',\n                top: '-2.5px',\n              }}\n            >\n              {amount}\n            </span>\n          </div>\n\n          {/* Product Name */}\n          <p\n            className=\"text-dark mb-1\"\n            style={{\n              fontSize: '1rem',\n              fontWeight: 'normal',\n              cursor: 'pointer',\n            }}\n            onClick={handleDetailsOpen}\n          >\n            {product.name}\n          </p>\n\n          {/* Product Strain */}\n          <p\n            className=\"text-muted mb-2\"\n            style={{\n              fontSize: '0.9rem',\n              fontWeight: 'normal',\n              cursor: 'pointer',\n            }}\n            onClick={handleDetailsOpen}\n          >\n            {strain || 'No Strain'}\n          </p>\n\n          {/* Price Section */}\n          <div className=\"d-flex align-items-center\">\n            {/* Sale Price or Regular Price */}\n            {salePrice ? (\n              <>\n                <span\n                  className=\"badge bg-light text-danger fw-bold\"\n                  style={{\n                    fontSize: '1.1rem',\n                    padding: '0.5rem 1rem',\n                    borderRadius: '0.5rem',\n                  }}\n                >\n                  ${salePrice.toFixed(2)}\n                </span>\n                <span\n                  style={{\n                    fontSize: '0.85rem',\n                    textDecoration: 'line-through',\n                    color: '#888',\n                    marginLeft: '0.5rem',\n                  }}\n                >\n                  ${price.toFixed(2)}\n                </span>\n              </>\n            ) : (\n              <span\n                className=\"badge bg-light text-dark fw-bold\"\n                style={{\n                  fontSize: '1.1rem',\n                  padding: '0.5rem 1rem',\n                  borderRadius: '0.5rem',\n                }}\n              >\n                ${price.toFixed(2)}\n              </span>\n            )}\n          </div>\n        </div>\n\n        {/* Add to Cart Button */}\n        <div className=\"col-2 text-end\">\n          <button\n            className=\"btn btn-primary rounded-circle\"\n            style={{\n              width: '2.5rem',\n              height: '2.5rem',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontSize: '1.5rem',\n              fontWeight: 'bold',\n            }}\n            onClick={(e) => {\n              e.stopPropagation();\n              addToCart({\n                ...product,\n                price: price,\n                salePrice: salePrice,\n                vendorName,\n                logoUrl,\n                primaryImage: image,\n                strain: strain,\n                vendorId,\n                productId: product._id,\n                orderType,\n              });\n            }}\n          >\n            +\n          </button>\n        </div>\n      </div>\n\n      {/* Product Details Modal */}\n      <ProductDetails\n        show={showDetails}\n        handleClose={handleDetailsClose}\n        product={product}\n        vendorName={vendorName}\n        logoUrl={logoUrl}\n        vendorId={vendorId}\n      />\n    </>\n  );\n};\n\nexport default ProductRow;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}