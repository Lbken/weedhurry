{"ast":null,"code":"var _jsxFileName = \"/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/VendorDisplay.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport VendorCard from './VendorCard';\nimport ProductCard from './ProductCard';\nimport api from '../api/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VendorDisplay = ({\n  selectedVendorId,\n  onVendorSelect\n}) => {\n  _s();\n  const [vendors, setVendors] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Create refs for selected vendor element\n  const selectedVendorRef = useRef(null);\n  useEffect(() => {\n    const fetchVendorDetails = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const response = await api.get('/api/map/map-vendors');\n        if (!response.data.success) {\n          setError('Failed to load vendor details. Please try again later.');\n          return;\n        }\n        const transformedVendors = response.data.vendors.map(vendor => ({\n          ...vendor,\n          _id: vendor._id.toString(),\n          businessHours: vendor.businessHours || {},\n          acceptedPayments: vendor.acceptedPayments || [],\n          minOrder: vendor.minOrder || 0,\n          products: vendor.products || [],\n          dailyPromo: vendor.dailyPromo || {\n            applicableToSaleItems: false\n          }\n        }));\n        setVendors(transformedVendors);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        console.error('Error fetching vendor details:', err);\n        setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to load vendor details. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchVendorDetails();\n  }, []);\n\n  // Effect to handle scrolling when selectedVendorId changes\n  useEffect(() => {\n    if (selectedVendorId && selectedVendorRef.current) {\n      selectedVendorRef.current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center'\n      });\n    }\n  }, [selectedVendorId]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xl\",\n        children: \"Loading vendors...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xl text-red-600\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Sort vendors to put selected vendor at the top if exists\n  const sortedVendors = [...vendors].sort((a, b) => {\n    if (a._id === selectedVendorId) return -1;\n    if (b._id === selectedVendorId) return 1;\n    return 0;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-4\",\n      children: [\"Available Dispensaries (\", vendors.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: sortedVendors.map(vendor => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        ref: vendor._id === selectedVendorId ? selectedVendorRef : null,\n        children: [/*#__PURE__*/_jsxDEV(VendorCard, {\n          vendor: vendor,\n          orderType: vendor.dispensaryType.toLowerCase(),\n          isSelected: selectedVendorId === vendor._id,\n          onClick: () => onVendorSelect(vendor._id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), selectedVendorId === vendor._id && vendor.products.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pl-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold mb-3\",\n            children: \"Available Products\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 sm:grid-cols-2 gap-4\",\n            children: vendor.products.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n              product: product,\n              vendorId: vendor._id\n            }, product._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }, this)]\n      }, vendor._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n_s(VendorDisplay, \"ehH3Y24DL1LgPJgOGaJnGUW8uiE=\");\n_c = VendorDisplay;\nexport default VendorDisplay;\nvar _c;\n$RefreshReg$(_c, \"VendorDisplay\");","map":{"version":3,"names":["React","useState","useEffect","useRef","VendorCard","ProductCard","api","jsxDEV","_jsxDEV","VendorDisplay","selectedVendorId","onVendorSelect","_s","vendors","setVendors","loading","setLoading","error","setError","selectedVendorRef","fetchVendorDetails","response","get","data","success","transformedVendors","map","vendor","_id","toString","businessHours","acceptedPayments","minOrder","products","dailyPromo","applicableToSaleItems","err","_err$response","_err$response$data","console","message","current","scrollIntoView","behavior","block","className","children","fileName","_jsxFileName","lineNumber","columnNumber","sortedVendors","sort","a","b","length","ref","orderType","dispensaryType","toLowerCase","isSelected","onClick","product","vendorId","_c","$RefreshReg$"],"sources":["/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/VendorDisplay.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport VendorCard from './VendorCard';\nimport ProductCard from './ProductCard';\nimport api from '../api/api';\n\nconst VendorDisplay = ({ selectedVendorId, onVendorSelect }) => {\n  const [vendors, setVendors] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  // Create refs for selected vendor element\n  const selectedVendorRef = useRef(null);\n\n  useEffect(() => {\n    const fetchVendorDetails = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const response = await api.get('/api/map/map-vendors');\n        \n        if (!response.data.success) {\n          setError('Failed to load vendor details. Please try again later.');\n          return;\n        }\n\n        const transformedVendors = response.data.vendors\n          .map(vendor => ({\n            ...vendor,\n            _id: vendor._id.toString(),\n            businessHours: vendor.businessHours || {},\n            acceptedPayments: vendor.acceptedPayments || [],\n            minOrder: vendor.minOrder || 0,\n            products: vendor.products || [],\n            dailyPromo: vendor.dailyPromo || { applicableToSaleItems: false }\n          }));\n\n        setVendors(transformedVendors);\n      } catch (err) {\n        console.error('Error fetching vendor details:', err);\n        setError(err.response?.data?.message || 'Failed to load vendor details. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchVendorDetails();\n  }, []);\n\n  // Effect to handle scrolling when selectedVendorId changes\n  useEffect(() => {\n    if (selectedVendorId && selectedVendorRef.current) {\n      selectedVendorRef.current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center'\n      });\n    }\n  }, [selectedVendorId]);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"text-xl\">Loading vendors...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"text-xl text-red-600\">{error}</div>\n      </div>\n    );\n  }\n\n  // Sort vendors to put selected vendor at the top if exists\n  const sortedVendors = [...vendors].sort((a, b) => {\n    if (a._id === selectedVendorId) return -1;\n    if (b._id === selectedVendorId) return 1;\n    return 0;\n  });\n\n  return (\n    <div className=\"container mx-auto p-4\">\n      <h2 className=\"text-2xl font-semibold mb-4\">\n        Available Dispensaries ({vendors.length})\n      </h2>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {sortedVendors.map(vendor => (\n          <div \n            key={vendor._id} \n            className=\"space-y-4\"\n            ref={vendor._id === selectedVendorId ? selectedVendorRef : null}\n          >\n            <VendorCard\n              vendor={vendor}\n              orderType={vendor.dispensaryType.toLowerCase()}\n              isSelected={selectedVendorId === vendor._id}\n              onClick={() => onVendorSelect(vendor._id)}\n            />\n            \n            {selectedVendorId === vendor._id && vendor.products.length > 0 && (\n              <div className=\"pl-4\">\n                <h3 className=\"text-xl font-semibold mb-3\">Available Products</h3>\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                  {vendor.products.map(product => (\n                    <ProductCard\n                      key={product._id}\n                      product={product}\n                      vendorId={vendor._id}\n                    />\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default VendorDisplay;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}