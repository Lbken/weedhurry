{"ast":null,"code":"var _jsxFileName = \"/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/Menu.js\",\n  _s = $RefreshSig$();\n// src/components/VendorMenu.js\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Button, Card, Container, Row, Col } from 'react-bootstrap';\nimport axios from 'axios';\nimport { CartContext } from '../context/CartContext'; // Assuming CartContext is set up\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Menu = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const {\n    addToCart\n  } = useContext(CartContext); // Access cart context\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        // Step 1: Get access token\n        const tokenResponse = await axios.post('https://api.treez.io/v2.0/dispensary/partnersandbox2/config/api/gettokens', new URLSearchParams({\n          client_id: 'wNzewkHXh2P5GnfCFPX3AmeA',\n          apikey: 'MTQ5Mjg2ODdjMDBmNTliZDUxZ'\n        }));\n        const accessToken = tokenResponse.data.access_token;\n\n        // Step 2: Fetch products with access token\n        const productResponse = await axios.get('https://api.treez.io/v2.0/dispensary/partnersandbox2/product/product_list', {\n          headers: {\n            Authorization: `Bearer ${accessToken}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        const data = productResponse.data;\n\n        // Organize products by category and set state\n        setProducts(data.products); // Assuming response data is in `products`\n\n        // Extract unique categories\n        const uniqueCategories = ['All', ...new Set(data.products.map(product => product.category_type))];\n        setCategories(uniqueCategories);\n      } catch (error) {\n        console.error('Error fetching products:', error);\n      }\n    };\n    fetchProducts();\n  }, []);\n\n  // Filter products by selected category\n  const filteredProducts = selectedCategory === 'All' ? products : products.filter(product => product.category_type === selectedCategory);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"my-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Vendor Menu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: categories.map(category => /*#__PURE__*/_jsxDEV(Button, {\n        variant: category === selectedCategory ? 'primary' : 'outline-primary',\n        className: \"me-2\",\n        onClick: () => setSelectedCategory(category),\n        children: category\n      }, category, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: filteredProducts.map(product => {\n        var _product$e_commerce;\n        return /*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          sm: 6,\n          xs: 12,\n          className: \"mb-4\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n              variant: \"top\",\n              src: ((_product$e_commerce = product.e_commerce) === null || _product$e_commerce === void 0 ? void 0 : _product$e_commerce.primary_image) || 'https://via.placeholder.com/150',\n              alt: product.product_configurable_fields.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: product.product_configurable_fields.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: [\"Price: $\", product.pricing.price_sell]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"success\",\n                onClick: () => addToCart(product),\n                children: \"Add to Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)\n        }, product.product_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n_s(Menu, \"Pnv0PhJXb0V95LYejS/SosiXpfU=\");\n_c = Menu;\nexport default Menu;\nvar _c;\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Button","Card","Container","Row","Col","axios","CartContext","jsxDEV","_jsxDEV","Menu","_s","products","setProducts","categories","setCategories","selectedCategory","setSelectedCategory","addToCart","fetchProducts","tokenResponse","post","URLSearchParams","client_id","apikey","accessToken","data","access_token","productResponse","get","headers","Authorization","uniqueCategories","Set","map","product","category_type","error","console","filteredProducts","filter","className","children","fileName","_jsxFileName","lineNumber","columnNumber","category","variant","onClick","_product$e_commerce","md","sm","xs","Img","src","e_commerce","primary_image","alt","product_configurable_fields","name","Body","Title","Text","pricing","price_sell","product_id","_c","$RefreshReg$"],"sources":["/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/Menu.js"],"sourcesContent":["// src/components/VendorMenu.js\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Button, Card, Container, Row, Col } from 'react-bootstrap';\nimport axios from 'axios';\nimport { CartContext } from '../context/CartContext'; // Assuming CartContext is set up\n\nconst Menu = () => {\n    const [products, setProducts] = useState([]);\n    const [categories, setCategories] = useState([]);\n    const [selectedCategory, setSelectedCategory] = useState('All');\n    const { addToCart } = useContext(CartContext); // Access cart context\n\n    useEffect(() => {\n        const fetchProducts = async () => {\n            try {\n                // Step 1: Get access token\n                const tokenResponse = await axios.post(\n                    'https://api.treez.io/v2.0/dispensary/partnersandbox2/config/api/gettokens',\n                    new URLSearchParams({\n                        client_id: 'wNzewkHXh2P5GnfCFPX3AmeA',\n                        apikey: 'MTQ5Mjg2ODdjMDBmNTliZDUxZ'\n                    })\n                );\n\n                const accessToken = tokenResponse.data.access_token;\n\n                // Step 2: Fetch products with access token\n                const productResponse = await axios.get(\n                    'https://api.treez.io/v2.0/dispensary/partnersandbox2/product/product_list',\n                    {\n                        headers: {\n                            Authorization: `Bearer ${accessToken}`,\n                            'Content-Type': 'application/json',\n                        }\n                    }\n                );\n\n                const data = productResponse.data;\n\n                // Organize products by category and set state\n                setProducts(data.products); // Assuming response data is in `products`\n                \n                // Extract unique categories\n                const uniqueCategories = ['All', ...new Set(data.products.map(product => product.category_type))];\n                setCategories(uniqueCategories);\n            } catch (error) {\n                console.error('Error fetching products:', error);\n            }\n        };\n\n        fetchProducts();\n    }, []);\n\n    // Filter products by selected category\n    const filteredProducts = selectedCategory === 'All'\n        ? products\n        : products.filter(product => product.category_type === selectedCategory);\n\n    return (\n        <Container className=\"my-4\">\n            <h2>Vendor Menu</h2>\n\n            {/* Category Filter Buttons */}\n            <div className=\"mb-4\">\n                {categories.map(category => (\n                    <Button\n                        key={category}\n                        variant={category === selectedCategory ? 'primary' : 'outline-primary'}\n                        className=\"me-2\"\n                        onClick={() => setSelectedCategory(category)}\n                    >\n                        {category}\n                    </Button>\n                ))}\n            </div>\n\n            {/* Product Cards */}\n            <Row>\n                {filteredProducts.map(product => (\n                    <Col md={4} sm={6} xs={12} key={product.product_id} className=\"mb-4\">\n                        <Card>\n                            <Card.Img\n                                variant=\"top\"\n                                src={product.e_commerce?.primary_image || 'https://via.placeholder.com/150'}\n                                alt={product.product_configurable_fields.name}\n                            />\n                            <Card.Body>\n                                <Card.Title>{product.product_configurable_fields.name}</Card.Title>\n                                <Card.Text>Price: ${product.pricing.price_sell}</Card.Text>\n                                <Button\n                                    variant=\"success\"\n                                    onClick={() => addToCart(product)}\n                                >\n                                    Add to Cart\n                                </Button>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                ))}\n            </Row>\n        </Container>\n    );\n};\n\nexport default Menu;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}