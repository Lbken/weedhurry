{"ast":null,"code":"var _jsxFileName = \"/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/VendorMenuPage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { VendorProvider, VendorContext } from '../context/VendorContext';\nimport VendorDetails from './VendorDetails';\nimport MenuDisplay from './MenuDisplay';\nimport CategoryFilter from './CategoryFilter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VendorMenuPage = () => {\n  _s();\n  const {\n    vendorId\n  } = useParams();\n  return /*#__PURE__*/_jsxDEV(VendorProvider, {\n    vendorId: vendorId,\n    children: /*#__PURE__*/_jsxDEV(VendorMenuContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this);\n};\n_s(VendorMenuPage, \"Rj6Ws+qNqY27Wp2+JBUpnwof7DE=\", false, function () {\n  return [useParams];\n});\n_c = VendorMenuPage;\nconst VendorMenuContent = () => {\n  _s2();\n  const {\n    vendor,\n    products,\n    loading,\n    error\n  } = useContext(VendorContext);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('All');\n\n  // Add state for classification filters\n  const [activeFilters, setActiveFilters] = useState({\n    sativa: false,\n    hybrid: false,\n    indica: false\n  });\n  useEffect(() => {\n    const applyFilters = () => {\n      let updatedProducts = products;\n\n      // Filter by category\n      if (selectedCategory !== 'All') {\n        updatedProducts = updatedProducts.filter(product => product.category === selectedCategory);\n      }\n\n      // Filter by classifications\n      const activeClassifications = Object.entries(activeFilters).filter(([_, isActive]) => isActive).map(([classification]) => classification.toLowerCase());\n      if (activeClassifications.length > 0) {\n        updatedProducts = updatedProducts.filter(product => {\n          var _product$variation, _product$variation$st;\n          const strain = ((_product$variation = product.variation) === null || _product$variation === void 0 ? void 0 : (_product$variation$st = _product$variation.strain) === null || _product$variation$st === void 0 ? void 0 : _product$variation$st.toLowerCase()) || '';\n\n          // Match substrings for strain classifications\n          return activeClassifications.some(filter => {\n            if (filter === 'indica') return strain.includes('(ind)');\n            if (filter === 'hybrid') return strain.includes('(hyb)');\n            if (filter === 'sativa') return strain.includes('(sat)');\n            return false;\n          });\n        });\n      }\n      setFilteredProducts(updatedProducts);\n    };\n    applyFilters();\n  }, [selectedCategory, activeFilters, products]);\n  const categories = ['All', 'Flower', 'Vape', 'Edible', 'Pre-roll', 'Topical']; // Define your categories here\n\n  const handleCategoryChange = category => {\n    setSelectedCategory(category);\n  };\n  const handleFilter = filters => {\n    setActiveFilters(filters);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"vendor-menu-page\",\n    children: [/*#__PURE__*/_jsxDEV(VendorDetails, {\n      vendor: vendor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(CategoryFilter, {\n        categories: categories,\n        selectedCategory: selectedCategory,\n        onCategoryChange: handleCategoryChange,\n        onFilter: handleFilter // Pass handleFilter to CategoryFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(MenuDisplay, {\n        products: filteredProducts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s2(VendorMenuContent, \"ofgaYvnePL23leFCZhC3dwvqjNY=\");\n_c2 = VendorMenuContent;\nexport default VendorMenuPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"VendorMenuPage\");\n$RefreshReg$(_c2, \"VendorMenuContent\");","map":{"version":3,"names":["React","useContext","useState","useEffect","useParams","VendorProvider","VendorContext","VendorDetails","MenuDisplay","CategoryFilter","jsxDEV","_jsxDEV","VendorMenuPage","_s","vendorId","children","VendorMenuContent","fileName","_jsxFileName","lineNumber","columnNumber","_c","_s2","vendor","products","loading","error","filteredProducts","setFilteredProducts","selectedCategory","setSelectedCategory","activeFilters","setActiveFilters","sativa","hybrid","indica","applyFilters","updatedProducts","filter","product","category","activeClassifications","Object","entries","_","isActive","map","classification","toLowerCase","length","_product$variation","_product$variation$st","strain","variation","some","includes","categories","handleCategoryChange","handleFilter","filters","className","onCategoryChange","onFilter","_c2","$RefreshReg$"],"sources":["/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/VendorMenuPage.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { VendorProvider, VendorContext } from '../context/VendorContext';\nimport VendorDetails from './VendorDetails';\nimport MenuDisplay from './MenuDisplay';\nimport CategoryFilter from './CategoryFilter';\n\nconst VendorMenuPage = () => {\n  const { vendorId } = useParams();\n\n  return (\n    <VendorProvider vendorId={vendorId}>\n      <VendorMenuContent />\n    </VendorProvider>\n  );\n};\n\nconst VendorMenuContent = () => {\n  const { vendor, products, loading, error } = useContext(VendorContext);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('All');\n\n  // Add state for classification filters\n  const [activeFilters, setActiveFilters] = useState({\n    sativa: false,\n    hybrid: false,\n    indica: false,\n  });\n\n  useEffect(() => {\n    const applyFilters = () => {\n      let updatedProducts = products;\n  \n      // Filter by category\n      if (selectedCategory !== 'All') {\n        updatedProducts = updatedProducts.filter(\n          (product) => product.category === selectedCategory\n        );\n      }\n  \n      // Filter by classifications\n      const activeClassifications = Object.entries(activeFilters)\n        .filter(([_, isActive]) => isActive)\n        .map(([classification]) => classification.toLowerCase());\n  \n      if (activeClassifications.length > 0) {\n        updatedProducts = updatedProducts.filter((product) => {\n          const strain = product.variation?.strain?.toLowerCase() || '';\n  \n          // Match substrings for strain classifications\n          return activeClassifications.some((filter) => {\n            if (filter === 'indica') return strain.includes('(ind)');\n            if (filter === 'hybrid') return strain.includes('(hyb)');\n            if (filter === 'sativa') return strain.includes('(sat)');\n            return false;\n          });\n        });\n      }\n  \n      setFilteredProducts(updatedProducts);\n    };\n  \n    applyFilters();\n  }, [selectedCategory, activeFilters, products]);\n  \n\n  const categories = ['All', 'Flower', 'Vape', 'Edible', 'Pre-roll', 'Topical']; // Define your categories here\n\n  const handleCategoryChange = (category) => {\n    setSelectedCategory(category);\n  };\n\n  const handleFilter = (filters) => {\n    setActiveFilters(filters);\n  };\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>Error: {error}</div>;\n\n  return (\n    <div className=\"vendor-menu-page\">\n      <VendorDetails vendor={vendor} />\n      <div>\n        <CategoryFilter\n          categories={categories}\n          selectedCategory={selectedCategory}\n          onCategoryChange={handleCategoryChange}\n          onFilter={handleFilter} // Pass handleFilter to CategoryFilter\n        />\n      </div>\n      <div>\n        <MenuDisplay products={filteredProducts} />\n      </div>\n    </div>\n  );\n};\n\nexport default VendorMenuPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}