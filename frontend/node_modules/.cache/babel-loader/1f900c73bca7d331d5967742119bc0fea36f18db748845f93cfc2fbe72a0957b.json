{"ast":null,"code":"var _jsxFileName = \"/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/VendorStatusDropdown.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Dropdown } from 'react-bootstrap';\nimport './VendorStatusDropdown.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VendorStatusDropdown = ({\n  vendor\n}) => {\n  _s();\n  const [status, setStatus] = useState('Closed');\n  const [availabilityText, setAvailabilityText] = useState('');\n\n  // Helper function to format time as \"HH:MM AM/PM\"\n  const formatTime = time24 => {\n    const [hour, minute] = time24.split(':').map(Number);\n    const period = hour >= 12 ? 'PM' : 'AM';\n    const formattedHour = hour % 12 || 12; // Convert 0 to 12 for midnight\n    return `${formattedHour}:${minute.toString().padStart(2, '0')} ${period}`;\n  };\n\n  // Helper function to determine availability text\n  const checkStatus = () => {\n    const today = new Date();\n    const currentDay = today.toLocaleString('en-US', {\n      weekday: 'long'\n    }).toLowerCase();\n    const currentTime = today.toTimeString().slice(0, 5); // Current time as \"HH:MM\"\n\n    const daysOfWeek = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];\n    const {\n      open,\n      close\n    } = vendor.businessHours[currentDay] || {};\n    let updatedStatus = 'Closed';\n    let updatedText = '';\n    if (open && close) {\n      if (currentTime >= open && currentTime < close) {\n        // Currently open\n        updatedStatus = 'Available';\n        updatedText = `Available until ${formatTime(close)}`;\n      } else if (currentTime < open) {\n        // Closed but opens later today\n        updatedText = `Available at ${formatTime(open)}`;\n      } else {\n        // Check for the next day's opening time\n        let nextDayIndex = (daysOfWeek.indexOf(currentDay) + 1) % 7;\n        while (!((_vendor$businessHours = vendor.businessHours[daysOfWeek[nextDayIndex]]) !== null && _vendor$businessHours !== void 0 && _vendor$businessHours.open)) {\n          var _vendor$businessHours;\n          nextDayIndex = (nextDayIndex + 1) % 7; // Skip closed days\n        }\n        const nextOpenTime = vendor.businessHours[daysOfWeek[nextDayIndex]].open;\n        const nextOpenDay = daysOfWeek[nextDayIndex].charAt(0).toUpperCase() + daysOfWeek[nextDayIndex].slice(1);\n        updatedText = `Available at ${formatTime(nextOpenTime)} on ${nextOpenDay}`;\n      }\n    } else {\n      updatedText = 'Closed for today';\n    }\n    setStatus(updatedStatus);\n    setAvailabilityText(updatedText);\n  };\n  useEffect(() => {\n    checkStatus();\n    const interval = setInterval(checkStatus, 60000); // Check status every minute\n    return () => clearInterval(interval);\n  }, [vendor.businessHours]);\n  return /*#__PURE__*/_jsxDEV(Dropdown, {\n    children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n      variant: status === 'Available' ? 'success' : 'danger',\n      id: \"vendor-status-dropdown\",\n      className: \"mb-3 btn-md rounded-pill\",\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n      className: \"vendor-status-dropdown-menu p-3 shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n        disabled: status === 'Closed',\n        href: `tel:${vendor.contactNumber}`,\n        children: \"Call Vendor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n        disabled: status === 'Closed',\n        href: `sms:${vendor.contactNumber}`,\n        children: \"Text Vendor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dropdown.Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-2 mb-2\",\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"$\", vendor.minOrder || 'N/A', \" Minimum\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-2 text-muted\",\n        children: availabilityText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(VendorStatusDropdown, \"n9NdY9LsSgz54jE0RobbvG2Y2Kg=\");\n_c = VendorStatusDropdown;\nexport default VendorStatusDropdown;\nvar _c;\n$RefreshReg$(_c, \"VendorStatusDropdown\");","map":{"version":3,"names":["React","useState","useEffect","Dropdown","jsxDEV","_jsxDEV","VendorStatusDropdown","vendor","_s","status","setStatus","availabilityText","setAvailabilityText","formatTime","time24","hour","minute","split","map","Number","period","formattedHour","toString","padStart","checkStatus","today","Date","currentDay","toLocaleString","weekday","toLowerCase","currentTime","toTimeString","slice","daysOfWeek","open","close","businessHours","updatedStatus","updatedText","nextDayIndex","indexOf","_vendor$businessHours","nextOpenTime","nextOpenDay","charAt","toUpperCase","interval","setInterval","clearInterval","children","Toggle","variant","id","className","fileName","_jsxFileName","lineNumber","columnNumber","Menu","Item","disabled","href","contactNumber","Divider","minOrder","_c","$RefreshReg$"],"sources":["/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/VendorStatusDropdown.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Dropdown } from 'react-bootstrap';\nimport './VendorStatusDropdown.css';\n\nconst VendorStatusDropdown = ({ vendor }) => {\n  const [status, setStatus] = useState('Closed');\n  const [availabilityText, setAvailabilityText] = useState('');\n\n  // Helper function to format time as \"HH:MM AM/PM\"\n  const formatTime = (time24) => {\n    const [hour, minute] = time24.split(':').map(Number);\n    const period = hour >= 12 ? 'PM' : 'AM';\n    const formattedHour = hour % 12 || 12; // Convert 0 to 12 for midnight\n    return `${formattedHour}:${minute.toString().padStart(2, '0')} ${period}`;\n  };\n\n  // Helper function to determine availability text\n  const checkStatus = () => {\n    const today = new Date();\n    const currentDay = today.toLocaleString('en-US', { weekday: 'long' }).toLowerCase();\n    const currentTime = today.toTimeString().slice(0, 5); // Current time as \"HH:MM\"\n\n    const daysOfWeek = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];\n\n    const { open, close } = vendor.businessHours[currentDay] || {};\n    let updatedStatus = 'Closed';\n    let updatedText = '';\n\n    if (open && close) {\n      if (currentTime >= open && currentTime < close) {\n        // Currently open\n        updatedStatus = 'Available';\n        updatedText = `Available until ${formatTime(close)}`;\n      } else if (currentTime < open) {\n        // Closed but opens later today\n        updatedText = `Available at ${formatTime(open)}`;\n      } else {\n        // Check for the next day's opening time\n        let nextDayIndex = (daysOfWeek.indexOf(currentDay) + 1) % 7;\n        while (!vendor.businessHours[daysOfWeek[nextDayIndex]]?.open) {\n          nextDayIndex = (nextDayIndex + 1) % 7; // Skip closed days\n        }\n        const nextOpenTime = vendor.businessHours[daysOfWeek[nextDayIndex]].open;\n        const nextOpenDay = daysOfWeek[nextDayIndex].charAt(0).toUpperCase() + daysOfWeek[nextDayIndex].slice(1);\n        updatedText = `Available at ${formatTime(nextOpenTime)} on ${nextOpenDay}`;\n      }\n    } else {\n      updatedText = 'Closed for today';\n    }\n\n    setStatus(updatedStatus);\n    setAvailabilityText(updatedText);\n  };\n\n  useEffect(() => {\n    checkStatus();\n    const interval = setInterval(checkStatus, 60000); // Check status every minute\n    return () => clearInterval(interval);\n  }, [vendor.businessHours]);\n\n  return (\n    <Dropdown>\n      <Dropdown.Toggle\n        variant={status === 'Available' ? 'success' : 'danger'}\n        id=\"vendor-status-dropdown\"\n        className=\"mb-3 btn-md rounded-pill\"\n      >\n        {status}\n      </Dropdown.Toggle>\n\n      <Dropdown.Menu className=\"vendor-status-dropdown-menu p-3 shadow-lg\">\n        {/* Vendor Actions */}\n        <Dropdown.Item disabled={status === 'Closed'} href={`tel:${vendor.contactNumber}`}>\n          Call Vendor\n        </Dropdown.Item>\n        <Dropdown.Item disabled={status === 'Closed'} href={`sms:${vendor.contactNumber}`}>\n          Text Vendor\n        </Dropdown.Item>\n        <Dropdown.Divider />\n\n        {/* Minimum Order */}\n        <div className=\"px-2 mb-2\">\n          <strong>${vendor.minOrder || 'N/A'} Minimum</strong>\n        </div>\n\n        {/* Availability Text */}\n        <div className=\"px-2 text-muted\">\n          {availabilityText}\n        </div>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n};\n\nexport default VendorStatusDropdown;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}