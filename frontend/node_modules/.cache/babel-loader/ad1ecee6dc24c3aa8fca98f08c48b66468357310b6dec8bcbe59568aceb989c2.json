{"ast":null,"code":"import React,{useState}from'react';import{Form,Button,Card,Alert,Container}from'react-bootstrap';import{useNavigate,Link}from'react-router-dom';import{useAuth}from'../context/AuthContext';import Footer from'./Footer';import api from'../api/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Login=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();const{login}=useAuth();const styles={mainContainer:{minHeight:'100vh',display:'flex',flexDirection:'column',backgroundColor:'#fafafa'},pageWrapper:{flex:'1 0 auto',display:'flex',alignItems:'center',justifyContent:'center',padding:'40px 20px'},card:{width:'100%',maxWidth:'420px',borderRadius:'12px',border:'1px solid #eaeaea',boxShadow:'0 4px 6px rgba(0, 0, 0, 0.05)',backgroundColor:'#ffffff'},cardBody:{padding:'2.5rem'},title:{color:'#2d3748',fontSize:'1.75rem',fontWeight:'700',marginBottom:'1.5rem',textAlign:'center'},formLabel:{color:'#4a5568',fontWeight:'600',fontSize:'0.95rem',marginBottom:'0.5rem'},formControl:{padding:'0.75rem',borderRadius:'8px',border:'1px solid #e2e8f0',fontSize:'1rem',backgroundColor:'#ffffff'},submitButton:{padding:'0.75rem',fontSize:'1.1rem',fontWeight:'600',borderRadius:'8px',backgroundColor:'#2d3748',border:'none',transition:'background-color 0.2s ease'},forgotPassword:{color:'#4a5568',textDecoration:'none',fontSize:'0.95rem',transition:'color 0.2s ease'},footerWrapper:{flexShrink:0}};const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);try{var _response$data;const response=await api.post('/auth/login',{email,password});if((_response$data=response.data)!==null&&_response$data!==void 0&&_response$data.success){const{vendorId}=response.data;await login(vendorId);navigate('/vendor-dashboard');}else{var _response$data2;throw new Error(((_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.message)||'Unexpected response structure');}}catch(err){var _err$response,_err$response$data;console.error('Login error:',err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Login failed. Please check your credentials.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.mainContainer,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.pageWrapper,children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Card,{style:styles.card,children:/*#__PURE__*/_jsxs(Card.Body,{style:styles.cardBody,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.title,children:\"Vendor Login\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",style:{borderRadius:'8px',fontSize:'0.95rem',marginBottom:'1.5rem'},children:error}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",className:\"mb-4\",children:[/*#__PURE__*/_jsx(Form.Label,{style:styles.formLabel,children:\"Email Address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter your email\",value:email,onChange:e=>setEmail(e.target.value),required:true,style:styles.formControl,className:\"hover:border-gray-400 focus:border-gray-500 focus:ring-2 focus:ring-gray-200\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",className:\"mb-4\",children:[/*#__PURE__*/_jsx(Form.Label,{style:styles.formLabel,children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Enter your password\",value:password,onChange:e=>setPassword(e.target.value),required:true,style:styles.formControl,className:\"hover:border-gray-400 focus:border-gray-500 focus:ring-2 focus:ring-gray-200\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"dark\",type:\"submit\",className:\"w-100 mb-4 hover:bg-gray-800 active:bg-gray-900\",style:styles.submitButton,disabled:loading,children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",\"aria-hidden\":\"true\"}),\"Signing In...\"]}):'Sign In'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/reset-password-request\",style:styles.forgotPassword,className:\"hover:text-gray-700\",children:\"Forgot your password?\"})})]})]})})})}),/*#__PURE__*/_jsx(\"div\",{style:styles.footerWrapper,children:/*#__PURE__*/_jsx(Footer,{})})]});};export default Login;","map":{"version":3,"names":["React","useState","Form","Button","Card","Alert","Container","useNavigate","Link","useAuth","Footer","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","email","setEmail","password","setPassword","error","setError","loading","setLoading","navigate","login","styles","mainContainer","minHeight","display","flexDirection","backgroundColor","pageWrapper","flex","alignItems","justifyContent","padding","card","width","maxWidth","borderRadius","border","boxShadow","cardBody","title","color","fontSize","fontWeight","marginBottom","textAlign","formLabel","formControl","submitButton","transition","forgotPassword","textDecoration","footerWrapper","flexShrink","handleSubmit","e","preventDefault","_response$data","response","post","data","success","vendorId","_response$data2","Error","message","err","_err$response","_err$response$data","console","style","children","Body","variant","onSubmit","Group","controlId","className","Label","Control","type","placeholder","value","onChange","target","required","disabled","role","to"],"sources":["/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Form, Button, Card, Alert, Container } from 'react-bootstrap';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport Footer from './Footer';\nimport api from '../api/api';\n\nconst Login = () => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(false);\n    const navigate = useNavigate();\n    const { login } = useAuth();\n\n    const styles = {\n        mainContainer: {\n            minHeight: '100vh',\n            display: 'flex',\n            flexDirection: 'column',\n            backgroundColor: '#fafafa'\n        },\n        pageWrapper: {\n            flex: '1 0 auto',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: '40px 20px'\n        },\n        card: {\n            width: '100%',\n            maxWidth: '420px',\n            borderRadius: '12px',\n            border: '1px solid #eaeaea',\n            boxShadow: '0 4px 6px rgba(0, 0, 0, 0.05)',\n            backgroundColor: '#ffffff'\n        },\n        cardBody: {\n            padding: '2.5rem'\n        },\n        title: {\n            color: '#2d3748',\n            fontSize: '1.75rem',\n            fontWeight: '700',\n            marginBottom: '1.5rem',\n            textAlign: 'center'\n        },\n        formLabel: {\n            color: '#4a5568',\n            fontWeight: '600',\n            fontSize: '0.95rem',\n            marginBottom: '0.5rem'\n        },\n        formControl: {\n            padding: '0.75rem',\n            borderRadius: '8px',\n            border: '1px solid #e2e8f0',\n            fontSize: '1rem',\n            backgroundColor: '#ffffff'\n        },\n        submitButton: {\n            padding: '0.75rem',\n            fontSize: '1.1rem',\n            fontWeight: '600',\n            borderRadius: '8px',\n            backgroundColor: '#2d3748',\n            border: 'none',\n            transition: 'background-color 0.2s ease'\n        },\n        forgotPassword: {\n            color: '#4a5568',\n            textDecoration: 'none',\n            fontSize: '0.95rem',\n            transition: 'color 0.2s ease'\n        },\n        footerWrapper: {\n            flexShrink: 0\n        }\n    };\n\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError('');\n        setLoading(true);\n\n        try {\n            const response = await api.post('/auth/login', { email, password });\n\n            if (response.data?.success) {\n                const { vendorId } = response.data;\n                await login(vendorId);\n                navigate('/vendor-dashboard');\n            } else {\n                throw new Error(response.data?.message || 'Unexpected response structure');\n            }\n        } catch (err) {\n            console.error('Login error:', err);\n            setError(\n                err.response?.data?.message || \n                'Login failed. Please check your credentials.'\n            );\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div style={styles.mainContainer}>\n            <div style={styles.pageWrapper}>\n                <Container>\n                    <Card style={styles.card}>\n                        <Card.Body style={styles.cardBody}>\n                            <h2 style={styles.title}>Vendor Login</h2>\n                            {error && (\n                                <Alert \n                                    variant=\"danger\" \n                                    style={{\n                                        borderRadius: '8px',\n                                        fontSize: '0.95rem',\n                                        marginBottom: '1.5rem'\n                                    }}\n                                >\n                                    {error}\n                                </Alert>\n                            )}\n                            \n                            <Form onSubmit={handleSubmit}>\n                                <Form.Group controlId=\"email\" className=\"mb-4\">\n                                    <Form.Label style={styles.formLabel}>Email Address</Form.Label>\n                                    <Form.Control\n                                        type=\"email\"\n                                        placeholder=\"Enter your email\"\n                                        value={email}\n                                        onChange={(e) => setEmail(e.target.value)}\n                                        required\n                                        style={styles.formControl}\n                                        className=\"hover:border-gray-400 focus:border-gray-500 focus:ring-2 focus:ring-gray-200\"\n                                    />\n                                </Form.Group>\n\n                                <Form.Group controlId=\"password\" className=\"mb-4\">\n                                    <Form.Label style={styles.formLabel}>Password</Form.Label>\n                                    <Form.Control\n                                        type=\"password\"\n                                        placeholder=\"Enter your password\"\n                                        value={password}\n                                        onChange={(e) => setPassword(e.target.value)}\n                                        required\n                                        style={styles.formControl}\n                                        className=\"hover:border-gray-400 focus:border-gray-500 focus:ring-2 focus:ring-gray-200\"\n                                    />\n                                </Form.Group>\n\n                                <Button\n                                    variant=\"dark\"\n                                    type=\"submit\"\n                                    className=\"w-100 mb-4 hover:bg-gray-800 active:bg-gray-900\"\n                                    style={styles.submitButton}\n                                    disabled={loading}\n                                >\n                                    {loading ? (\n                                        <>\n                                            <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                                            Signing In...\n                                        </>\n                                    ) : (\n                                        'Sign In'\n                                    )}\n                                </Button>\n\n                                <div className=\"text-center\">\n                                    <Link \n                                        to=\"/reset-password-request\" \n                                        style={styles.forgotPassword}\n                                        className=\"hover:text-gray-700\"\n                                    >\n                                        Forgot your password?\n                                    </Link>\n                                </div>\n                            </Form>\n                        </Card.Body>\n                    </Card>\n                </Container>\n            </div>\n            <div style={styles.footerWrapper}>\n                <Footer />\n            </div>\n        </div>\n    );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}