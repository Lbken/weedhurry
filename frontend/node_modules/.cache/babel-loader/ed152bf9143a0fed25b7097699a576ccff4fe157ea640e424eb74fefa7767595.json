{"ast":null,"code":"import React,{useState,useContext,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import{Button,Row,Col,Form,Card,Container}from'react-bootstrap';import{CartContext}from'../context/CartContext';import{loadGoogleMapsScript}from'../utils/googleMapsLoader';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PlaceOrder=()=>{var _cartItems$5;const{calculateTotal,cartItems,clearCart,incrementItem,decrementItem,removeFromCart}=useContext(CartContext);const[contactInfo,setContactInfo]=useState({firstName:'',lastName:'',email:'',phone:'',birthdate:''});const[savedAddress,setSavedAddress]=useState('');const[isEditing,setIsEditing]=useState(false);const[newAddress,setNewAddress]=useState('');const[paymentMethod,setPaymentMethod]=useState('');const[selectedPaymentFee,setSelectedPaymentFee]=useState(0);const[vendorPaymentMethods,setVendorPaymentMethods]=useState([]);const[vendorDetails,setVendorDetails]=useState(null);const inputRef=useRef(null);const navigate=useNavigate();const subtotal=calculateTotal();const estimatedTotal=subtotal+selectedPaymentFee;useEffect(()=>{let autocompleteInstance=null;const initializeAutocomplete=async()=>{try{if(isEditing&&inputRef.current){await loadGoogleMapsScript();// Make sure the element still exists after script loads\nif(inputRef.current){autocompleteInstance=new window.google.maps.places.Autocomplete(inputRef.current,{types:['geocode']});autocompleteInstance.addListener('place_changed',()=>{const place=autocompleteInstance.getPlace();if(place!==null&&place!==void 0&&place.formatted_address){setNewAddress(place.formatted_address);}});}}}catch(error){console.error('Error initializing Google Maps:',error);}};initializeAutocomplete();// Cleanup\nreturn()=>{if(autocompleteInstance){var _window$google,_window$google$maps,_window$google$maps$e;(_window$google=window.google)===null||_window$google===void 0?void 0:(_window$google$maps=_window$google.maps)===null||_window$google$maps===void 0?void 0:(_window$google$maps$e=_window$google$maps.event)===null||_window$google$maps$e===void 0?void 0:_window$google$maps$e.clearInstanceListeners(autocompleteInstance);}};},[isEditing]);// Load saved data and fetch vendor details\nuseEffect(()=>{const address=localStorage.getItem('userAddress');if(address)setSavedAddress(address);const storedContactInfo=JSON.parse(localStorage.getItem('contactInfo'));if(storedContactInfo)setContactInfo(storedContactInfo);const fetchVendorData=async()=>{var _cartItems$;const vendorId=(_cartItems$=cartItems[0])===null||_cartItems$===void 0?void 0:_cartItems$.vendorId;if(vendorId){try{const response=await fetch(`http://localhost:5001/api/vendors/${vendorId}`);const vendor=await response.json();setVendorDetails(vendor.data);setVendorPaymentMethods(vendor.data.acceptedPayments||[]);}catch(error){console.error('Error fetching vendor data:',error);}}};fetchVendorData();},[cartItems]);// Setup Google Places Autocomplete\nuseEffect(()=>{var _window$google2,_window$google2$maps;if(isEditing&&inputRef.current&&(_window$google2=window.google)!==null&&_window$google2!==void 0&&(_window$google2$maps=_window$google2.maps)!==null&&_window$google2$maps!==void 0&&_window$google2$maps.places){const autocomplete=new window.google.maps.places.Autocomplete(inputRef.current,{types:['geocode']});autocomplete.addListener('place_changed',()=>{const place=autocomplete.getPlace();if(place!==null&&place!==void 0&&place.formatted_address){setNewAddress(place.formatted_address);}});}},[isEditing]);// Save contact info to localStorage\nuseEffect(()=>{localStorage.setItem('contactInfo',JSON.stringify(contactInfo));},[contactInfo]);const formatBirthdate=value=>{const digits=value.replace(/\\D/g,'');const parts=[digits.slice(0,2),digits.slice(2,4),digits.slice(4,8)].filter(Boolean);return parts.join('/');};const handleBirthdateChange=e=>{const formattedValue=formatBirthdate(e.target.value);setContactInfo({...contactInfo,birthdate:formattedValue});};const handleSaveAddress=()=>{localStorage.setItem('userAddress',newAddress);setSavedAddress(newAddress);setIsEditing(false);};const handlePaymentMethodSelect=(method,fee)=>{setPaymentMethod(method);setSelectedPaymentFee(fee);};const handlePlaceOrder=async()=>{var _cartItems$2,_cartItems$3;// Validation for required fields\nif(!contactInfo.firstName||!contactInfo.lastName||!contactInfo.email||!contactInfo.phone||!contactInfo.birthdate){alert('Please fill out all required fields.');return;}const isPickup=((_cartItems$2=cartItems[0])===null||_cartItems$2===void 0?void 0:_cartItems$2.orderType)==='Pickup';if(!isPickup&&!localStorage.getItem('userAddress')){alert('Please add a delivery address.');return;}if(!paymentMethod){alert('Please select a payment method.');return;}let parsedAddress={};if(!isPickup){var _addressParts$;const userAddress=localStorage.getItem('userAddress');const addressParts=userAddress.split(',').map(part=>part.trim());const street=addressParts[0]||'';const city=addressParts[1]||'';const stateZip=((_addressParts$=addressParts[2])===null||_addressParts$===void 0?void 0:_addressParts$.split(' '))||[];const state=stateZip[0]||'';const zip=stateZip[1]||'';parsedAddress={street,city,state,zip};if(!parsedAddress.street||!parsedAddress.city||!parsedAddress.state||!parsedAddress.zip){alert('Invalid delivery address format. Please re-enter your address.');return;}}const payload={phone:contactInfo.phone,firstName:contactInfo.firstName,lastName:contactInfo.lastName,email:contactInfo.email,birthday:contactInfo.birthdate,totalAmount:estimatedTotal,vendorId:(_cartItems$3=cartItems[0])===null||_cartItems$3===void 0?void 0:_cartItems$3.vendorId,orderDetails:{order_status:'AWAITING_PROCESSING',delivery_address:isPickup?null:parsedAddress,items:cartItems.map(item=>({productId:item.productId||item._id,name:item.name,category:item.category,quantity:item.quantity,price:item.price,salePrice:item.salePrice||null,image:item.image})),payment_method:paymentMethod,payment_fee:selectedPaymentFee,orderType:isPickup?'Pickup':'Delivery',vendorDetails:{dispensaryName:vendorDetails===null||vendorDetails===void 0?void 0:vendorDetails.dispensaryName,storefrontAddress:vendorDetails===null||vendorDetails===void 0?void 0:vendorDetails.storefrontAddress,logoUrl:vendorDetails===null||vendorDetails===void 0?void 0:vendorDetails.logoUrl}}};try{const response=await fetch('http://localhost:5001/api/customer/create-order',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(response.ok){const result=await response.json();navigate(`/order-confirmation/${result.orderId}`,{state:{order:result.order,cartItemsSummary:result.order.items}});clearCart();}else{const error=await response.json();alert(`Failed to place order: ${error.message}`);}}catch(error){console.error('Error placing order:',error);alert('An error occurred. Please try again later.');}};const renderLocationSection=()=>{var _cartItems$4;const isPickup=((_cartItems$4=cartItems[0])===null||_cartItems$4===void 0?void 0:_cartItems$4.orderType)==='Pickup';if(isPickup&&vendorDetails){var _vendorDetails$storef;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Pickup Location\"}),/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:vendorDetails.logoUrl,alt:vendorDetails.dispensaryName,className:\"me-3\",style:{width:'60px',height:'60px',objectFit:'cover',borderRadius:'8px'}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-1\",children:vendorDetails.dispensaryName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary mb-0\",children:((_vendorDetails$storef=vendorDetails.storefrontAddress)===null||_vendorDetails$storef===void 0?void 0:_vendorDetails$storef.formatted)||'Address not available'})]})]})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Delivery Address\"}),isEditing?/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Form.Group,{controlId:\"address\",className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",ref:inputRef,value:newAddress,onChange:e=>setNewAddress(e.target.value),placeholder:\"Enter your address\",required:true})}),/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:handleSaveAddress,children:\"Save Address\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Card.Text,{className:\"text-secondary mb-2\",children:savedAddress||'No address saved'}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>{setNewAddress(savedAddress);setIsEditing(true);},children:savedAddress?'Edit Address':'Add Address'})]})]});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Container,{fluid:true,className:\"place-order-section py-4\",children:/*#__PURE__*/_jsxs(Row,{className:\"g-4\",children:[/*#__PURE__*/_jsx(Col,{lg:6,xs:12,children:/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[renderLocationSection(),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"Contact Information\"}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Row,{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"First Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:contactInfo.firstName,onChange:e=>setContactInfo({...contactInfo,firstName:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Last Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:contactInfo.lastName,onChange:e=>setContactInfo({...contactInfo,lastName:e.target.value}),required:true})]})]}),/*#__PURE__*/_jsx(Row,{className:\"mb-3\",children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",value:contactInfo.email,onChange:e=>setContactInfo({...contactInfo,email:e.target.value}),required:true})]})}),/*#__PURE__*/_jsx(Row,{className:\"mb-3\",children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Phone\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:contactInfo.phone,placeholder:\"\",onChange:e=>{const input=e.target.value.replace(/\\D/g,'');let formattedInput=input;if(input.length>3&&input.length<=6){formattedInput=`(${input.slice(0,3)}) ${input.slice(3)}`;}else if(input.length>6){formattedInput=`(${input.slice(0,3)}) ${input.slice(3,6)}-${input.slice(6,10)}`;}setContactInfo({...contactInfo,phone:formattedInput});},maxLength:14,required:true})]})}),/*#__PURE__*/_jsx(Row,{className:\"mb-3\",children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Birthdate\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"MM/DD/YYYY\",value:contactInfo.birthdate,onChange:handleBirthdateChange,required:true})]})})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"Payment Method\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap gap-2\",children:vendorPaymentMethods.map((method,index)=>/*#__PURE__*/_jsx(Button,{variant:paymentMethod===method.method?'primary':'outline-primary',onClick:()=>handlePaymentMethodSelect(method.method,method.fee),children:method.fee>0?`${method.method} ($${method.fee.toFixed(2)} Fee)`:method.method},index))})]})})}),/*#__PURE__*/_jsx(Col,{lg:6,xs:12,children:/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Order Summary\"}),cartItems.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[cartItems.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",style:{borderBottom:'1px solid #e0e0e0',paddingBottom:'10px'},children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,style:{width:'50px',height:'50px',objectFit:'cover',marginRight:'10px'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:item.name}),/*#__PURE__*/_jsx(\"div\",{children:item.salePrice?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger me-2\",children:[\"$\",item.salePrice.toFixed(2)]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted text-decoration-line-through\",children:[\"$\",item.price.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-success small\",children:[\"$\",Math.abs(item.price-item.salePrice).toFixed(2),\" Savings!\"]})]}):/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",item.price.toFixed(2)]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary btn-sm\",style:{width:'30px',height:'30px',fontSize:'1rem'},onClick:()=>decrementItem(item.productId),children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-2\",children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary btn-sm\",style:{width:'30px',height:'30px',fontSize:'1rem'},onClick:()=>incrementItem(item.productId),children:\"+\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-danger btn-sm ms-2\",style:{width:'30px',height:'30px',fontSize:'1rem',border:'0'},onClick:()=>removeFromCart(item.productId),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash\"})})]},item.productId)),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",subtotal.toFixed(2)]})]}),selectedPaymentFee>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Payment Fee\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",selectedPaymentFee.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mt-3 pt-2 border-top\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total\"}),' ',/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary\",style:{fontSize:'0.8rem'},children:\"(Taxes Included)\"})]}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",estimatedTotal.toFixed(2)]})})]})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"w-100 mt-4\",onClick:handlePlaceOrder,disabled:cartItems.length===0,children:\"Place Order\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary text-center mt-3\",style:{fontSize:'0.9rem'},children:((_cartItems$5=cartItems[0])===null||_cartItems$5===void 0?void 0:_cartItems$5.orderType)==='Pickup'?/*#__PURE__*/_jsx(_Fragment,{children:\"Please note, you will receive a text message when your order is ready for pickup.\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"Please note, you will receive a text message from \",(vendorDetails===null||vendorDetails===void 0?void 0:vendorDetails.dispensaryName)||'the vendor',\" with delivery ETA shortly after placing order.\"]})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Your cart is empty.\"})]})})})]})})});};export default PlaceOrder;","map":{"version":3,"names":["React","useState","useContext","useEffect","useRef","useNavigate","Button","Row","Col","Form","Card","Container","CartContext","loadGoogleMapsScript","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PlaceOrder","_cartItems$5","calculateTotal","cartItems","clearCart","incrementItem","decrementItem","removeFromCart","contactInfo","setContactInfo","firstName","lastName","email","phone","birthdate","savedAddress","setSavedAddress","isEditing","setIsEditing","newAddress","setNewAddress","paymentMethod","setPaymentMethod","selectedPaymentFee","setSelectedPaymentFee","vendorPaymentMethods","setVendorPaymentMethods","vendorDetails","setVendorDetails","inputRef","navigate","subtotal","estimatedTotal","autocompleteInstance","initializeAutocomplete","current","window","google","maps","places","Autocomplete","types","addListener","place","getPlace","formatted_address","error","console","_window$google","_window$google$maps","_window$google$maps$e","event","clearInstanceListeners","address","localStorage","getItem","storedContactInfo","JSON","parse","fetchVendorData","_cartItems$","vendorId","response","fetch","vendor","json","data","acceptedPayments","_window$google2","_window$google2$maps","autocomplete","setItem","stringify","formatBirthdate","value","digits","replace","parts","slice","filter","Boolean","join","handleBirthdateChange","e","formattedValue","target","handleSaveAddress","handlePaymentMethodSelect","method","fee","handlePlaceOrder","_cartItems$2","_cartItems$3","alert","isPickup","orderType","parsedAddress","_addressParts$","userAddress","addressParts","split","map","part","trim","street","city","stateZip","state","zip","payload","birthday","totalAmount","orderDetails","order_status","delivery_address","items","item","productId","_id","name","category","quantity","price","salePrice","image","payment_method","payment_fee","dispensaryName","storefrontAddress","logoUrl","headers","body","ok","result","orderId","order","cartItemsSummary","message","renderLocationSection","_cartItems$4","_vendorDetails$storef","className","children","Body","src","alt","style","width","height","objectFit","borderRadius","formatted","Group","controlId","Control","type","ref","onChange","placeholder","required","variant","onClick","Text","fluid","lg","xs","Label","input","formattedInput","length","maxLength","index","toFixed","borderBottom","paddingBottom","marginRight","Math","abs","fontSize","border","disabled"],"sources":["/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/PlaceOrder.js"],"sourcesContent":["import React, { useState, useContext, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Button, Row, Col, Form, Card, Container } from 'react-bootstrap';\nimport { CartContext } from '../context/CartContext';\nimport { loadGoogleMapsScript } from '../utils/googleMapsLoader';\n\nconst PlaceOrder = () => {\n  const {\n    calculateTotal,\n    cartItems,\n    clearCart,\n    incrementItem,\n    decrementItem,\n    removeFromCart,\n  } = useContext(CartContext);\n  \n  const [contactInfo, setContactInfo] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: '',\n    birthdate: '',\n  });\n\n  const [savedAddress, setSavedAddress] = useState('');\n  const [isEditing, setIsEditing] = useState(false);\n  const [newAddress, setNewAddress] = useState('');\n  const [paymentMethod, setPaymentMethod] = useState('');\n  const [selectedPaymentFee, setSelectedPaymentFee] = useState(0);\n  const [vendorPaymentMethods, setVendorPaymentMethods] = useState([]);\n  const [vendorDetails, setVendorDetails] = useState(null);\n  const inputRef = useRef(null);\n\n  const navigate = useNavigate();\n  const subtotal = calculateTotal();\n  const estimatedTotal = subtotal + selectedPaymentFee;\n\n  useEffect(() => {\n    let autocompleteInstance = null;\n  \n    const initializeAutocomplete = async () => {\n      try {\n        if (isEditing && inputRef.current) {\n          await loadGoogleMapsScript();\n          \n          // Make sure the element still exists after script loads\n          if (inputRef.current) {\n            autocompleteInstance = new window.google.maps.places.Autocomplete(inputRef.current, {\n              types: ['geocode']\n            });\n  \n            autocompleteInstance.addListener('place_changed', () => {\n              const place = autocompleteInstance.getPlace();\n              if (place?.formatted_address) {\n                setNewAddress(place.formatted_address);\n              }\n            });\n          }\n        }\n      } catch (error) {\n        console.error('Error initializing Google Maps:', error);\n      }\n    };\n  \n    initializeAutocomplete();\n  \n    // Cleanup\n    return () => {\n      if (autocompleteInstance) {\n        window.google?.maps?.event?.clearInstanceListeners(autocompleteInstance);\n      }\n    };\n  }, [isEditing]);\n\n  // Load saved data and fetch vendor details\n  useEffect(() => {\n    const address = localStorage.getItem('userAddress');\n    if (address) setSavedAddress(address);\n\n    const storedContactInfo = JSON.parse(localStorage.getItem('contactInfo'));\n    if (storedContactInfo) setContactInfo(storedContactInfo);\n\n    const fetchVendorData = async () => {\n      const vendorId = cartItems[0]?.vendorId;\n      if (vendorId) {\n        try {\n          const response = await fetch(`http://localhost:5001/api/vendors/${vendorId}`);\n          const vendor = await response.json();\n          setVendorDetails(vendor.data);\n          setVendorPaymentMethods(vendor.data.acceptedPayments || []);\n        } catch (error) {\n          console.error('Error fetching vendor data:', error);\n        }\n      }\n    };\n\n    fetchVendorData();\n  }, [cartItems]);\n\n  // Setup Google Places Autocomplete\n  useEffect(() => {\n    if (isEditing && inputRef.current && window.google?.maps?.places) {\n      const autocomplete = new window.google.maps.places.Autocomplete(inputRef.current, {\n        types: ['geocode'],\n      });\n\n      autocomplete.addListener('place_changed', () => {\n        const place = autocomplete.getPlace();\n        if (place?.formatted_address) {\n          setNewAddress(place.formatted_address);\n        }\n      });\n    }\n  }, [isEditing]);\n\n  // Save contact info to localStorage\n  useEffect(() => {\n    localStorage.setItem('contactInfo', JSON.stringify(contactInfo));\n  }, [contactInfo]);\n\n  const formatBirthdate = (value) => {\n    const digits = value.replace(/\\D/g, '');\n    const parts = [\n      digits.slice(0, 2),\n      digits.slice(2, 4),\n      digits.slice(4, 8),\n    ].filter(Boolean);\n    return parts.join('/');\n  };\n\n  const handleBirthdateChange = (e) => {\n    const formattedValue = formatBirthdate(e.target.value);\n    setContactInfo({ ...contactInfo, birthdate: formattedValue });\n  };\n\n  const handleSaveAddress = () => {\n    localStorage.setItem('userAddress', newAddress);\n    setSavedAddress(newAddress);\n    setIsEditing(false);\n  };\n\n  const handlePaymentMethodSelect = (method, fee) => {\n    setPaymentMethod(method);\n    setSelectedPaymentFee(fee);\n  };\n\n  const handlePlaceOrder = async () => {\n    // Validation for required fields\n    if (!contactInfo.firstName || !contactInfo.lastName || !contactInfo.email || !contactInfo.phone || !contactInfo.birthdate) {\n      alert('Please fill out all required fields.');\n      return;\n    }\n\n    const isPickup = cartItems[0]?.orderType === 'Pickup';\n    \n    if (!isPickup && !localStorage.getItem('userAddress')) {\n      alert('Please add a delivery address.');\n      return;\n    }\n\n    if (!paymentMethod) {\n      alert('Please select a payment method.');\n      return;\n    }\n\n    let parsedAddress = {};\n    if (!isPickup) {\n      const userAddress = localStorage.getItem('userAddress');\n      const addressParts = userAddress.split(',').map((part) => part.trim());\n      const street = addressParts[0] || '';\n      const city = addressParts[1] || '';\n      const stateZip = addressParts[2]?.split(' ') || [];\n      const state = stateZip[0] || '';\n      const zip = stateZip[1] || '';\n\n      parsedAddress = { street, city, state, zip };\n\n      if (!parsedAddress.street || !parsedAddress.city || !parsedAddress.state || !parsedAddress.zip) {\n        alert('Invalid delivery address format. Please re-enter your address.');\n        return;\n      }\n    }\n\n    const payload = {\n      phone: contactInfo.phone,\n      firstName: contactInfo.firstName,\n      lastName: contactInfo.lastName,\n      email: contactInfo.email,\n      birthday: contactInfo.birthdate,\n      totalAmount: estimatedTotal,\n      vendorId: cartItems[0]?.vendorId,\n      orderDetails: {\n        order_status: 'AWAITING_PROCESSING',\n        delivery_address: isPickup ? null : parsedAddress,\n        items: cartItems.map((item) => ({\n          productId: item.productId || item._id,\n          name: item.name,\n          category: item.category,\n          quantity: item.quantity,\n          price: item.price,\n          salePrice: item.salePrice || null,\n          image: item.image,\n        })),\n        payment_method: paymentMethod,\n        payment_fee: selectedPaymentFee,\n        orderType: isPickup ? 'Pickup' : 'Delivery',\n        vendorDetails: {\n          dispensaryName: vendorDetails?.dispensaryName,\n          storefrontAddress: vendorDetails?.storefrontAddress,\n          logoUrl: vendorDetails?.logoUrl\n        }\n      },\n    };\n\n    try {\n      const response = await fetch('http://localhost:5001/api/customer/create-order', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload),\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        navigate(`/order-confirmation/${result.orderId}`, {\n          state: {\n            order: result.order,\n            cartItemsSummary: result.order.items,\n          },\n        });\n        clearCart();\n      } else {\n        const error = await response.json();\n        alert(`Failed to place order: ${error.message}`);\n      }\n    } catch (error) {\n      console.error('Error placing order:', error);\n      alert('An error occurred. Please try again later.');\n    }\n  };\n\n  const renderLocationSection = () => {\n    const isPickup = cartItems[0]?.orderType === 'Pickup';\n\n    if (isPickup && vendorDetails) {\n      return (\n        <div className=\"mb-4\">\n          <h4>Pickup Location</h4>\n          <Card className=\"border-0 shadow-sm\">\n            <Card.Body className=\"d-flex align-items-center\">\n              <img \n                src={vendorDetails.logoUrl} \n                alt={vendorDetails.dispensaryName}\n                className=\"me-3\"\n                style={{ width: '60px', height: '60px', objectFit: 'cover', borderRadius: '8px' }}\n              />\n              <div>\n                <h5 className=\"mb-1\">{vendorDetails.dispensaryName}</h5>\n                <p className=\"text-secondary mb-0\">\n                  {vendorDetails.storefrontAddress?.formatted || 'Address not available'}\n                </p>\n              </div>\n            </Card.Body>\n          </Card>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"mb-4\">\n        <h4>Delivery Address</h4>\n        {isEditing ? (\n          <Form>\n            <Form.Group controlId=\"address\" className=\"mb-3\">\n              <Form.Control\n                type=\"text\"\n                ref={inputRef}\n                value={newAddress}\n                onChange={(e) => setNewAddress(e.target.value)}\n                placeholder=\"Enter your address\"\n                required\n              />\n            </Form.Group>\n            <Button variant=\"success\" onClick={handleSaveAddress}>\n              Save Address\n            </Button>\n          </Form>\n        ) : (\n          <div>\n            <Card.Text className=\"text-secondary mb-2\">\n              {savedAddress || 'No address saved'}\n            </Card.Text>\n            <Button\n              variant=\"primary\"\n              onClick={() => {\n                setNewAddress(savedAddress);\n                setIsEditing(true);\n              }}\n            >\n              {savedAddress ? 'Edit Address' : 'Add Address'}\n            </Button>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      <Container fluid className=\"place-order-section py-4\">\n        <Row className=\"g-4\">\n          <Col lg={6} xs={12}>\n            <Card className=\"border-0 shadow-sm\">\n              <Card.Body>\n                {renderLocationSection()}\n\n                <hr />\n\n                <h4 className=\"mb-3\">Contact Information</h4>\n                <Form>\n                  <Row className=\"mb-3\">\n                    <Col>\n                      <Form.Label>First Name</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        value={contactInfo.firstName}\n                        onChange={(e) =>\n                          setContactInfo({ ...contactInfo, firstName: e.target.value })\n                        }\n                        required\n                      />\n                    </Col>\n                    <Col>\n                      <Form.Label>Last Name</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        value={contactInfo.lastName}\n                        onChange={(e) =>\n                          setContactInfo({ ...contactInfo, lastName: e.target.value })\n                        }\n                        required\n                      />\n                    </Col>\n                  </Row>\n\n                  <Row className=\"mb-3\">\n                    <Col>\n                      <Form.Label>Email</Form.Label>\n                      <Form.Control\n                        type=\"email\"\n                        value={contactInfo.email}\n                        onChange={(e) =>\n                          setContactInfo({ ...contactInfo, email: e.target.value })\n                        }\n                        required\n                      />\n                    </Col>\n                  </Row>\n\n                  <Row className=\"mb-3\">\n                    <Col>\n                      <Form.Label>Phone</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        value={contactInfo.phone}\n                        placeholder=\"\"\n                        onChange={(e) => {\n                          const input = e.target.value.replace(/\\D/g, '');\n                          let formattedInput = input;\n\n                          if (input.length > 3 && input.length <= 6) {\n                            formattedInput = `(${input.slice(0, 3)}) ${input.slice(3)}`;\n                          } else if (input.length > 6) {\n                            formattedInput = `(${input.slice(0, 3)}) ${input.slice(3, 6)}-${input.slice(6, 10)}`;\n                          }\n\n                          setContactInfo({ ...contactInfo, phone: formattedInput });\n                        }}\n                        maxLength={14}\n                        required\n                      />\n                    </Col>\n                  </Row>\n\n                  <Row className=\"mb-3\">\n                    <Col>\n                      <Form.Label>Birthdate</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        placeholder=\"MM/DD/YYYY\"\n                        value={contactInfo.birthdate}\n                        onChange={handleBirthdateChange}\n                        required\n                      />\n                    </Col>\n                  </Row>\n                </Form>\n\n                <h4 className=\"mb-3\">Payment Method</h4>\n                <div className=\"d-flex flex-wrap gap-2\">\n                  {vendorPaymentMethods.map((method, index) => (\n                    <Button\n                      key={index}\n                      variant={paymentMethod === method.method ? 'primary' : 'outline-primary'}\n                      onClick={() => handlePaymentMethodSelect(method.method, method.fee)}\n                    >\n                      {method.fee > 0\n                        ? `${method.method} ($${method.fee.toFixed(2)} Fee)`\n                        : method.method}\n                    </Button>\n                  ))}\n                </div>\n              </Card.Body>\n            </Card>\n          </Col>\n\n          <Col lg={6} xs={12}>\n            <Card className=\"border-0 shadow-sm\">\n              <Card.Body>\n                <h4>Order Summary</h4>\n                {cartItems.length > 0 ? (\n                  <>\n                    {cartItems.map((item) => (\n                      <div\n                        key={item.productId}\n                        className=\"d-flex align-items-center mb-3\"\n                        style={{ borderBottom: '1px solid #e0e0e0', paddingBottom: '10px' }}\n                      >\n                        <img\n                          src={item.image}\n                          alt={item.name}\n                          style={{ width: '50px', height: '50px', objectFit: 'cover', marginRight: '10px' }}\n                        />\n\n                        <div className=\"flex-grow-1\">\n                          <strong>{item.name}</strong>\n                          <div>\n                            {item.salePrice ? (\n                              <div>\n                                <span className=\"text-danger me-2\">\n                                  ${item.salePrice.toFixed(2)}\n                                </span>\n                                <span className=\"text-muted text-decoration-line-through\">\n                                  ${item.price.toFixed(2)}\n                                </span>\n                                <div className=\"text-success small\">\n                                  ${Math.abs(item.price - item.salePrice).toFixed(2)} Savings!\n                                </div>\n                              </div>\n                            ) : (\n                              <span>${item.price.toFixed(2)}</span>\n                            )}\n                          </div>\n                        </div>\n\n                        <div className=\"d-flex align-items-center\">\n                          <button\n                            className=\"btn btn-outline-secondary btn-sm\"\n                            style={{ width: '30px', height: '30px', fontSize: '1rem' }}\n                            onClick={() => decrementItem(item.productId)}\n                          >\n                            -\n                          </button>\n                          <span className=\"mx-2\">{item.quantity}</span>\n                          <button\n                            className=\"btn btn-outline-secondary btn-sm\"\n                            style={{ width: '30px', height: '30px', fontSize: '1rem' }}\n                            onClick={() => incrementItem(item.productId)}\n                          >\n                            +\n                          </button>\n                        </div>\n\n                        <button\n                          className=\"btn btn-outline-danger btn-sm ms-2\"\n                          style={{ width: '30px', height: '30px', fontSize: '1rem', border: '0' }}\n                          onClick={() => removeFromCart(item.productId)}\n                        >\n                          <i className=\"bi bi-trash\"></i>\n                        </button>\n                      </div>\n                    ))}\n\n                    {/* Price Summary Section */}\n                    <div className=\"mt-4\">\n                      <div className=\"d-flex justify-content-between mb-2\">\n                        <span>Subtotal</span>\n                        <span>${subtotal.toFixed(2)}</span>\n                      </div>\n                      \n                      {selectedPaymentFee > 0 && (\n                        <div className=\"d-flex justify-content-between mb-2\">\n                          <span>Payment Fee</span>\n                          <span>${selectedPaymentFee.toFixed(2)}</span>\n                        </div>\n                      )}\n\n                      <div className=\"d-flex justify-content-between mt-3 pt-2 border-top\">\n                        <span>\n                          <strong>Total</strong>{' '}\n                          <span className=\"text-secondary\" style={{ fontSize: '0.8rem' }}>\n                            (Taxes Included)\n                          </span>\n                        </span>\n                        <span><strong>${estimatedTotal.toFixed(2)}</strong></span>\n                      </div>\n                    </div>\n\n                    {/* Place Order Button */}\n                    <Button \n                      variant=\"primary\" \n                      className=\"w-100 mt-4\" \n                      onClick={handlePlaceOrder}\n                      disabled={cartItems.length === 0}\n                    >\n                      Place Order\n                    </Button>\n\n                    {/* Order Type Message */}\n                    <p className=\"text-secondary text-center mt-3\" style={{ fontSize: '0.9rem' }}>\n                      {cartItems[0]?.orderType === 'Pickup' ? (\n                        <>Please note, you will receive a text message when your order is ready for pickup.</>\n                      ) : (\n                        <>Please note, you will receive a text message from {vendorDetails?.dispensaryName || 'the vendor'} with delivery ETA shortly after placing order.</>\n                      )}\n                    </p>\n                  </>\n                ) : (\n                  <p>Your cart is empty.</p>\n                )}\n              </Card.Body>\n            </Card>\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n};\n\nexport default PlaceOrder;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,UAAU,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CACtE,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,MAAM,CAAEC,GAAG,CAAEC,GAAG,CAAEC,IAAI,CAAEC,IAAI,CAAEC,SAAS,KAAQ,iBAAiB,CACzE,OAASC,WAAW,KAAQ,wBAAwB,CACpD,OAASC,oBAAoB,KAAQ,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEjE,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,KAAAC,YAAA,CACvB,KAAM,CACJC,cAAc,CACdC,SAAS,CACTC,SAAS,CACTC,aAAa,CACbC,aAAa,CACbC,cACF,CAAC,CAAGzB,UAAU,CAACU,WAAW,CAAC,CAE3B,KAAM,CAACgB,WAAW,CAAEC,cAAc,CAAC,CAAG5B,QAAQ,CAAC,CAC7C6B,SAAS,CAAE,EAAE,CACbC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,EAAE,CACTC,SAAS,CAAE,EACb,CAAC,CAAC,CAEF,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGnC,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACoC,SAAS,CAAEC,YAAY,CAAC,CAAGrC,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACsC,UAAU,CAAEC,aAAa,CAAC,CAAGvC,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACwC,aAAa,CAAEC,gBAAgB,CAAC,CAAGzC,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAC0C,kBAAkB,CAAEC,qBAAqB,CAAC,CAAG3C,QAAQ,CAAC,CAAC,CAAC,CAC/D,KAAM,CAAC4C,oBAAoB,CAAEC,uBAAuB,CAAC,CAAG7C,QAAQ,CAAC,EAAE,CAAC,CACpE,KAAM,CAAC8C,aAAa,CAAEC,gBAAgB,CAAC,CAAG/C,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAAAgD,QAAQ,CAAG7C,MAAM,CAAC,IAAI,CAAC,CAE7B,KAAM,CAAA8C,QAAQ,CAAG7C,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAA8C,QAAQ,CAAG7B,cAAc,CAAC,CAAC,CACjC,KAAM,CAAA8B,cAAc,CAAGD,QAAQ,CAAGR,kBAAkB,CAEpDxC,SAAS,CAAC,IAAM,CACd,GAAI,CAAAkD,oBAAoB,CAAG,IAAI,CAE/B,KAAM,CAAAC,sBAAsB,CAAG,KAAAA,CAAA,GAAY,CACzC,GAAI,CACF,GAAIjB,SAAS,EAAIY,QAAQ,CAACM,OAAO,CAAE,CACjC,KAAM,CAAA1C,oBAAoB,CAAC,CAAC,CAE5B;AACA,GAAIoC,QAAQ,CAACM,OAAO,CAAE,CACpBF,oBAAoB,CAAG,GAAI,CAAAG,MAAM,CAACC,MAAM,CAACC,IAAI,CAACC,MAAM,CAACC,YAAY,CAACX,QAAQ,CAACM,OAAO,CAAE,CAClFM,KAAK,CAAE,CAAC,SAAS,CACnB,CAAC,CAAC,CAEFR,oBAAoB,CAACS,WAAW,CAAC,eAAe,CAAE,IAAM,CACtD,KAAM,CAAAC,KAAK,CAAGV,oBAAoB,CAACW,QAAQ,CAAC,CAAC,CAC7C,GAAID,KAAK,SAALA,KAAK,WAALA,KAAK,CAAEE,iBAAiB,CAAE,CAC5BzB,aAAa,CAACuB,KAAK,CAACE,iBAAiB,CAAC,CACxC,CACF,CAAC,CAAC,CACJ,CACF,CACF,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACzD,CACF,CAAC,CAEDZ,sBAAsB,CAAC,CAAC,CAExB;AACA,MAAO,IAAM,CACX,GAAID,oBAAoB,CAAE,KAAAe,cAAA,CAAAC,mBAAA,CAAAC,qBAAA,CACxB,CAAAF,cAAA,CAAAZ,MAAM,CAACC,MAAM,UAAAW,cAAA,kBAAAC,mBAAA,CAAbD,cAAA,CAAeV,IAAI,UAAAW,mBAAA,kBAAAC,qBAAA,CAAnBD,mBAAA,CAAqBE,KAAK,UAAAD,qBAAA,iBAA1BA,qBAAA,CAA4BE,sBAAsB,CAACnB,oBAAoB,CAAC,CAC1E,CACF,CAAC,CACH,CAAC,CAAE,CAAChB,SAAS,CAAC,CAAC,CAEf;AACAlC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAsE,OAAO,CAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CACnD,GAAIF,OAAO,CAAErC,eAAe,CAACqC,OAAO,CAAC,CAErC,KAAM,CAAAG,iBAAiB,CAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC,CACzE,GAAIC,iBAAiB,CAAE/C,cAAc,CAAC+C,iBAAiB,CAAC,CAExD,KAAM,CAAAG,eAAe,CAAG,KAAAA,CAAA,GAAY,KAAAC,WAAA,CAClC,KAAM,CAAAC,QAAQ,EAAAD,WAAA,CAAGzD,SAAS,CAAC,CAAC,CAAC,UAAAyD,WAAA,iBAAZA,WAAA,CAAcC,QAAQ,CACvC,GAAIA,QAAQ,CAAE,CACZ,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,qCAAqCF,QAAQ,EAAE,CAAC,CAC7E,KAAM,CAAAG,MAAM,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CACpCrC,gBAAgB,CAACoC,MAAM,CAACE,IAAI,CAAC,CAC7BxC,uBAAuB,CAACsC,MAAM,CAACE,IAAI,CAACC,gBAAgB,EAAI,EAAE,CAAC,CAC7D,CAAE,MAAOrB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CACF,CACF,CAAC,CAEDa,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,CAACxD,SAAS,CAAC,CAAC,CAEf;AACApB,SAAS,CAAC,IAAM,KAAAqF,eAAA,CAAAC,oBAAA,CACd,GAAIpD,SAAS,EAAIY,QAAQ,CAACM,OAAO,GAAAiC,eAAA,CAAIhC,MAAM,CAACC,MAAM,UAAA+B,eAAA,YAAAC,oBAAA,CAAbD,eAAA,CAAe9B,IAAI,UAAA+B,oBAAA,WAAnBA,oBAAA,CAAqB9B,MAAM,CAAE,CAChE,KAAM,CAAA+B,YAAY,CAAG,GAAI,CAAAlC,MAAM,CAACC,MAAM,CAACC,IAAI,CAACC,MAAM,CAACC,YAAY,CAACX,QAAQ,CAACM,OAAO,CAAE,CAChFM,KAAK,CAAE,CAAC,SAAS,CACnB,CAAC,CAAC,CAEF6B,YAAY,CAAC5B,WAAW,CAAC,eAAe,CAAE,IAAM,CAC9C,KAAM,CAAAC,KAAK,CAAG2B,YAAY,CAAC1B,QAAQ,CAAC,CAAC,CACrC,GAAID,KAAK,SAALA,KAAK,WAALA,KAAK,CAAEE,iBAAiB,CAAE,CAC5BzB,aAAa,CAACuB,KAAK,CAACE,iBAAiB,CAAC,CACxC,CACF,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAAC5B,SAAS,CAAC,CAAC,CAEf;AACAlC,SAAS,CAAC,IAAM,CACduE,YAAY,CAACiB,OAAO,CAAC,aAAa,CAAEd,IAAI,CAACe,SAAS,CAAChE,WAAW,CAAC,CAAC,CAClE,CAAC,CAAE,CAACA,WAAW,CAAC,CAAC,CAEjB,KAAM,CAAAiE,eAAe,CAAIC,KAAK,EAAK,CACjC,KAAM,CAAAC,MAAM,CAAGD,KAAK,CAACE,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CACvC,KAAM,CAAAC,KAAK,CAAG,CACZF,MAAM,CAACG,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAClBH,MAAM,CAACG,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAClBH,MAAM,CAACG,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CACnB,CAACC,MAAM,CAACC,OAAO,CAAC,CACjB,MAAO,CAAAH,KAAK,CAACI,IAAI,CAAC,GAAG,CAAC,CACxB,CAAC,CAED,KAAM,CAAAC,qBAAqB,CAAIC,CAAC,EAAK,CACnC,KAAM,CAAAC,cAAc,CAAGX,eAAe,CAACU,CAAC,CAACE,MAAM,CAACX,KAAK,CAAC,CACtDjE,cAAc,CAAC,CAAE,GAAGD,WAAW,CAAEM,SAAS,CAAEsE,cAAe,CAAC,CAAC,CAC/D,CAAC,CAED,KAAM,CAAAE,iBAAiB,CAAGA,CAAA,GAAM,CAC9BhC,YAAY,CAACiB,OAAO,CAAC,aAAa,CAAEpD,UAAU,CAAC,CAC/CH,eAAe,CAACG,UAAU,CAAC,CAC3BD,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAED,KAAM,CAAAqE,yBAAyB,CAAGA,CAACC,MAAM,CAAEC,GAAG,GAAK,CACjDnE,gBAAgB,CAACkE,MAAM,CAAC,CACxBhE,qBAAqB,CAACiE,GAAG,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAG,KAAAA,CAAA,GAAY,KAAAC,YAAA,CAAAC,YAAA,CACnC;AACA,GAAI,CAACpF,WAAW,CAACE,SAAS,EAAI,CAACF,WAAW,CAACG,QAAQ,EAAI,CAACH,WAAW,CAACI,KAAK,EAAI,CAACJ,WAAW,CAACK,KAAK,EAAI,CAACL,WAAW,CAACM,SAAS,CAAE,CACzH+E,KAAK,CAAC,sCAAsC,CAAC,CAC7C,OACF,CAEA,KAAM,CAAAC,QAAQ,CAAG,EAAAH,YAAA,CAAAxF,SAAS,CAAC,CAAC,CAAC,UAAAwF,YAAA,iBAAZA,YAAA,CAAcI,SAAS,IAAK,QAAQ,CAErD,GAAI,CAACD,QAAQ,EAAI,CAACxC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAE,CACrDsC,KAAK,CAAC,gCAAgC,CAAC,CACvC,OACF,CAEA,GAAI,CAACxE,aAAa,CAAE,CAClBwE,KAAK,CAAC,iCAAiC,CAAC,CACxC,OACF,CAEA,GAAI,CAAAG,aAAa,CAAG,CAAC,CAAC,CACtB,GAAI,CAACF,QAAQ,CAAE,KAAAG,cAAA,CACb,KAAM,CAAAC,WAAW,CAAG5C,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CACvD,KAAM,CAAA4C,YAAY,CAAGD,WAAW,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAEC,IAAI,EAAKA,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC,CACtE,KAAM,CAAAC,MAAM,CAAGL,YAAY,CAAC,CAAC,CAAC,EAAI,EAAE,CACpC,KAAM,CAAAM,IAAI,CAAGN,YAAY,CAAC,CAAC,CAAC,EAAI,EAAE,CAClC,KAAM,CAAAO,QAAQ,CAAG,EAAAT,cAAA,CAAAE,YAAY,CAAC,CAAC,CAAC,UAAAF,cAAA,iBAAfA,cAAA,CAAiBG,KAAK,CAAC,GAAG,CAAC,GAAI,EAAE,CAClD,KAAM,CAAAO,KAAK,CAAGD,QAAQ,CAAC,CAAC,CAAC,EAAI,EAAE,CAC/B,KAAM,CAAAE,GAAG,CAAGF,QAAQ,CAAC,CAAC,CAAC,EAAI,EAAE,CAE7BV,aAAa,CAAG,CAAEQ,MAAM,CAAEC,IAAI,CAAEE,KAAK,CAAEC,GAAI,CAAC,CAE5C,GAAI,CAACZ,aAAa,CAACQ,MAAM,EAAI,CAACR,aAAa,CAACS,IAAI,EAAI,CAACT,aAAa,CAACW,KAAK,EAAI,CAACX,aAAa,CAACY,GAAG,CAAE,CAC9Ff,KAAK,CAAC,gEAAgE,CAAC,CACvE,OACF,CACF,CAEA,KAAM,CAAAgB,OAAO,CAAG,CACdhG,KAAK,CAAEL,WAAW,CAACK,KAAK,CACxBH,SAAS,CAAEF,WAAW,CAACE,SAAS,CAChCC,QAAQ,CAAEH,WAAW,CAACG,QAAQ,CAC9BC,KAAK,CAAEJ,WAAW,CAACI,KAAK,CACxBkG,QAAQ,CAAEtG,WAAW,CAACM,SAAS,CAC/BiG,WAAW,CAAE/E,cAAc,CAC3B6B,QAAQ,EAAA+B,YAAA,CAAEzF,SAAS,CAAC,CAAC,CAAC,UAAAyF,YAAA,iBAAZA,YAAA,CAAc/B,QAAQ,CAChCmD,YAAY,CAAE,CACZC,YAAY,CAAE,qBAAqB,CACnCC,gBAAgB,CAAEpB,QAAQ,CAAG,IAAI,CAAGE,aAAa,CACjDmB,KAAK,CAAEhH,SAAS,CAACkG,GAAG,CAAEe,IAAI,GAAM,CAC9BC,SAAS,CAAED,IAAI,CAACC,SAAS,EAAID,IAAI,CAACE,GAAG,CACrCC,IAAI,CAAEH,IAAI,CAACG,IAAI,CACfC,QAAQ,CAAEJ,IAAI,CAACI,QAAQ,CACvBC,QAAQ,CAAEL,IAAI,CAACK,QAAQ,CACvBC,KAAK,CAAEN,IAAI,CAACM,KAAK,CACjBC,SAAS,CAAEP,IAAI,CAACO,SAAS,EAAI,IAAI,CACjCC,KAAK,CAAER,IAAI,CAACQ,KACd,CAAC,CAAC,CAAC,CACHC,cAAc,CAAExG,aAAa,CAC7ByG,WAAW,CAAEvG,kBAAkB,CAC/BwE,SAAS,CAAED,QAAQ,CAAG,QAAQ,CAAG,UAAU,CAC3CnE,aAAa,CAAE,CACboG,cAAc,CAAEpG,aAAa,SAAbA,aAAa,iBAAbA,aAAa,CAAEoG,cAAc,CAC7CC,iBAAiB,CAAErG,aAAa,SAAbA,aAAa,iBAAbA,aAAa,CAAEqG,iBAAiB,CACnDC,OAAO,CAAEtG,aAAa,SAAbA,aAAa,iBAAbA,aAAa,CAAEsG,OAC1B,CACF,CACF,CAAC,CAED,GAAI,CACF,KAAM,CAAAnE,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,iDAAiD,CAAE,CAC9EyB,MAAM,CAAE,MAAM,CACd0C,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAE1E,IAAI,CAACe,SAAS,CAACqC,OAAO,CAC9B,CAAC,CAAC,CAEF,GAAI/C,QAAQ,CAACsE,EAAE,CAAE,CACf,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAvE,QAAQ,CAACG,IAAI,CAAC,CAAC,CACpCnC,QAAQ,CAAC,uBAAuBuG,MAAM,CAACC,OAAO,EAAE,CAAE,CAChD3B,KAAK,CAAE,CACL4B,KAAK,CAAEF,MAAM,CAACE,KAAK,CACnBC,gBAAgB,CAAEH,MAAM,CAACE,KAAK,CAACpB,KACjC,CACF,CAAC,CAAC,CACF/G,SAAS,CAAC,CAAC,CACb,CAAC,IAAM,CACL,KAAM,CAAA0C,KAAK,CAAG,KAAM,CAAAgB,QAAQ,CAACG,IAAI,CAAC,CAAC,CACnC4B,KAAK,CAAC,0BAA0B/C,KAAK,CAAC2F,OAAO,EAAE,CAAC,CAClD,CACF,CAAE,MAAO3F,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5C+C,KAAK,CAAC,4CAA4C,CAAC,CACrD,CACF,CAAC,CAED,KAAM,CAAA6C,qBAAqB,CAAGA,CAAA,GAAM,KAAAC,YAAA,CAClC,KAAM,CAAA7C,QAAQ,CAAG,EAAA6C,YAAA,CAAAxI,SAAS,CAAC,CAAC,CAAC,UAAAwI,YAAA,iBAAZA,YAAA,CAAc5C,SAAS,IAAK,QAAQ,CAErD,GAAID,QAAQ,EAAInE,aAAa,CAAE,KAAAiH,qBAAA,CAC7B,mBACE/I,KAAA,QAAKgJ,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBnJ,IAAA,OAAAmJ,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBnJ,IAAA,CAACL,IAAI,EAACuJ,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cAClCjJ,KAAA,CAACP,IAAI,CAACyJ,IAAI,EAACF,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eAC9CnJ,IAAA,QACEqJ,GAAG,CAAErH,aAAa,CAACsG,OAAQ,CAC3BgB,GAAG,CAAEtH,aAAa,CAACoG,cAAe,CAClCc,SAAS,CAAC,MAAM,CAChBK,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEC,SAAS,CAAE,OAAO,CAAEC,YAAY,CAAE,KAAM,CAAE,CACnF,CAAC,cACFzJ,KAAA,QAAAiJ,QAAA,eACEnJ,IAAA,OAAIkJ,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAEnH,aAAa,CAACoG,cAAc,CAAK,CAAC,cACxDpI,IAAA,MAAGkJ,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAC/B,EAAAF,qBAAA,CAAAjH,aAAa,CAACqG,iBAAiB,UAAAY,qBAAA,iBAA/BA,qBAAA,CAAiCW,SAAS,GAAI,uBAAuB,CACrE,CAAC,EACD,CAAC,EACG,CAAC,CACR,CAAC,EACJ,CAAC,CAEV,CAEA,mBACE1J,KAAA,QAAKgJ,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBnJ,IAAA,OAAAmJ,QAAA,CAAI,kBAAgB,CAAI,CAAC,CACxB7H,SAAS,cACRpB,KAAA,CAACR,IAAI,EAAAyJ,QAAA,eACHnJ,IAAA,CAACN,IAAI,CAACmK,KAAK,EAACC,SAAS,CAAC,SAAS,CAACZ,SAAS,CAAC,MAAM,CAAAC,QAAA,cAC9CnJ,IAAA,CAACN,IAAI,CAACqK,OAAO,EACXC,IAAI,CAAC,MAAM,CACXC,GAAG,CAAE/H,QAAS,CACd6C,KAAK,CAAEvD,UAAW,CAClB0I,QAAQ,CAAG1E,CAAC,EAAK/D,aAAa,CAAC+D,CAAC,CAACE,MAAM,CAACX,KAAK,CAAE,CAC/CoF,WAAW,CAAC,oBAAoB,CAChCC,QAAQ,MACT,CAAC,CACQ,CAAC,cACbpK,IAAA,CAACT,MAAM,EAAC8K,OAAO,CAAC,SAAS,CAACC,OAAO,CAAE3E,iBAAkB,CAAAwD,QAAA,CAAC,cAEtD,CAAQ,CAAC,EACL,CAAC,cAEPjJ,KAAA,QAAAiJ,QAAA,eACEnJ,IAAA,CAACL,IAAI,CAAC4K,IAAI,EAACrB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CACvC/H,YAAY,EAAI,kBAAkB,CAC1B,CAAC,cACZpB,IAAA,CAACT,MAAM,EACL8K,OAAO,CAAC,SAAS,CACjBC,OAAO,CAAEA,CAAA,GAAM,CACb7I,aAAa,CAACL,YAAY,CAAC,CAC3BG,YAAY,CAAC,IAAI,CAAC,CACpB,CAAE,CAAA4H,QAAA,CAED/H,YAAY,CAAG,cAAc,CAAG,aAAa,CACxC,CAAC,EACN,CACN,EACE,CAAC,CAEV,CAAC,CAED,mBACEpB,IAAA,QAAAmJ,QAAA,cACEnJ,IAAA,CAACJ,SAAS,EAAC4K,KAAK,MAACtB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACnDjJ,KAAA,CAACV,GAAG,EAAC0J,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBnJ,IAAA,CAACP,GAAG,EAACgL,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,EAAG,CAAAvB,QAAA,cACjBnJ,IAAA,CAACL,IAAI,EAACuJ,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cAClCjJ,KAAA,CAACP,IAAI,CAACyJ,IAAI,EAAAD,QAAA,EACPJ,qBAAqB,CAAC,CAAC,cAExB/I,IAAA,QAAK,CAAC,cAENA,IAAA,OAAIkJ,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAC7CjJ,KAAA,CAACR,IAAI,EAAAyJ,QAAA,eACHjJ,KAAA,CAACV,GAAG,EAAC0J,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBjJ,KAAA,CAACT,GAAG,EAAA0J,QAAA,eACFnJ,IAAA,CAACN,IAAI,CAACiL,KAAK,EAAAxB,QAAA,CAAC,YAAU,CAAY,CAAC,cACnCnJ,IAAA,CAACN,IAAI,CAACqK,OAAO,EACXC,IAAI,CAAC,MAAM,CACXjF,KAAK,CAAElE,WAAW,CAACE,SAAU,CAC7BmJ,QAAQ,CAAG1E,CAAC,EACV1E,cAAc,CAAC,CAAE,GAAGD,WAAW,CAAEE,SAAS,CAAEyE,CAAC,CAACE,MAAM,CAACX,KAAM,CAAC,CAC7D,CACDqF,QAAQ,MACT,CAAC,EACC,CAAC,cACNlK,KAAA,CAACT,GAAG,EAAA0J,QAAA,eACFnJ,IAAA,CAACN,IAAI,CAACiL,KAAK,EAAAxB,QAAA,CAAC,WAAS,CAAY,CAAC,cAClCnJ,IAAA,CAACN,IAAI,CAACqK,OAAO,EACXC,IAAI,CAAC,MAAM,CACXjF,KAAK,CAAElE,WAAW,CAACG,QAAS,CAC5BkJ,QAAQ,CAAG1E,CAAC,EACV1E,cAAc,CAAC,CAAE,GAAGD,WAAW,CAAEG,QAAQ,CAAEwE,CAAC,CAACE,MAAM,CAACX,KAAM,CAAC,CAC5D,CACDqF,QAAQ,MACT,CAAC,EACC,CAAC,EACH,CAAC,cAENpK,IAAA,CAACR,GAAG,EAAC0J,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBjJ,KAAA,CAACT,GAAG,EAAA0J,QAAA,eACFnJ,IAAA,CAACN,IAAI,CAACiL,KAAK,EAAAxB,QAAA,CAAC,OAAK,CAAY,CAAC,cAC9BnJ,IAAA,CAACN,IAAI,CAACqK,OAAO,EACXC,IAAI,CAAC,OAAO,CACZjF,KAAK,CAAElE,WAAW,CAACI,KAAM,CACzBiJ,QAAQ,CAAG1E,CAAC,EACV1E,cAAc,CAAC,CAAE,GAAGD,WAAW,CAAEI,KAAK,CAAEuE,CAAC,CAACE,MAAM,CAACX,KAAM,CAAC,CACzD,CACDqF,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,cAENpK,IAAA,CAACR,GAAG,EAAC0J,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBjJ,KAAA,CAACT,GAAG,EAAA0J,QAAA,eACFnJ,IAAA,CAACN,IAAI,CAACiL,KAAK,EAAAxB,QAAA,CAAC,OAAK,CAAY,CAAC,cAC9BnJ,IAAA,CAACN,IAAI,CAACqK,OAAO,EACXC,IAAI,CAAC,MAAM,CACXjF,KAAK,CAAElE,WAAW,CAACK,KAAM,CACzBiJ,WAAW,CAAC,EAAE,CACdD,QAAQ,CAAG1E,CAAC,EAAK,CACf,KAAM,CAAAoF,KAAK,CAAGpF,CAAC,CAACE,MAAM,CAACX,KAAK,CAACE,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CAC/C,GAAI,CAAA4F,cAAc,CAAGD,KAAK,CAE1B,GAAIA,KAAK,CAACE,MAAM,CAAG,CAAC,EAAIF,KAAK,CAACE,MAAM,EAAI,CAAC,CAAE,CACzCD,cAAc,CAAG,IAAID,KAAK,CAACzF,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,KAAKyF,KAAK,CAACzF,KAAK,CAAC,CAAC,CAAC,EAAE,CAC7D,CAAC,IAAM,IAAIyF,KAAK,CAACE,MAAM,CAAG,CAAC,CAAE,CAC3BD,cAAc,CAAG,IAAID,KAAK,CAACzF,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,KAAKyF,KAAK,CAACzF,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,IAAIyF,KAAK,CAACzF,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,EAAE,CACtF,CAEArE,cAAc,CAAC,CAAE,GAAGD,WAAW,CAAEK,KAAK,CAAE2J,cAAe,CAAC,CAAC,CAC3D,CAAE,CACFE,SAAS,CAAE,EAAG,CACdX,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,cAENpK,IAAA,CAACR,GAAG,EAAC0J,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBjJ,KAAA,CAACT,GAAG,EAAA0J,QAAA,eACFnJ,IAAA,CAACN,IAAI,CAACiL,KAAK,EAAAxB,QAAA,CAAC,WAAS,CAAY,CAAC,cAClCnJ,IAAA,CAACN,IAAI,CAACqK,OAAO,EACXC,IAAI,CAAC,MAAM,CACXG,WAAW,CAAC,YAAY,CACxBpF,KAAK,CAAElE,WAAW,CAACM,SAAU,CAC7B+I,QAAQ,CAAE3E,qBAAsB,CAChC6E,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,EACF,CAAC,cAEPpK,IAAA,OAAIkJ,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cACxCnJ,IAAA,QAAKkJ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CACpCrH,oBAAoB,CAAC4E,GAAG,CAAC,CAACb,MAAM,CAAEmF,KAAK,gBACtChL,IAAA,CAACT,MAAM,EAEL8K,OAAO,CAAE3I,aAAa,GAAKmE,MAAM,CAACA,MAAM,CAAG,SAAS,CAAG,iBAAkB,CACzEyE,OAAO,CAAEA,CAAA,GAAM1E,yBAAyB,CAACC,MAAM,CAACA,MAAM,CAAEA,MAAM,CAACC,GAAG,CAAE,CAAAqD,QAAA,CAEnEtD,MAAM,CAACC,GAAG,CAAG,CAAC,CACX,GAAGD,MAAM,CAACA,MAAM,MAAMA,MAAM,CAACC,GAAG,CAACmF,OAAO,CAAC,CAAC,CAAC,OAAO,CAClDpF,MAAM,CAACA,MAAM,EANZmF,KAOC,CACT,CAAC,CACC,CAAC,EACG,CAAC,CACR,CAAC,CACJ,CAAC,cAENhL,IAAA,CAACP,GAAG,EAACgL,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,EAAG,CAAAvB,QAAA,cACjBnJ,IAAA,CAACL,IAAI,EAACuJ,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cAClCjJ,KAAA,CAACP,IAAI,CAACyJ,IAAI,EAAAD,QAAA,eACRnJ,IAAA,OAAAmJ,QAAA,CAAI,eAAa,CAAI,CAAC,CACrB3I,SAAS,CAACsK,MAAM,CAAG,CAAC,cACnB5K,KAAA,CAAAE,SAAA,EAAA+I,QAAA,EACG3I,SAAS,CAACkG,GAAG,CAAEe,IAAI,eAClBvH,KAAA,QAEEgJ,SAAS,CAAC,gCAAgC,CAC1CK,KAAK,CAAE,CAAE2B,YAAY,CAAE,mBAAmB,CAAEC,aAAa,CAAE,MAAO,CAAE,CAAAhC,QAAA,eAEpEnJ,IAAA,QACEqJ,GAAG,CAAE5B,IAAI,CAACQ,KAAM,CAChBqB,GAAG,CAAE7B,IAAI,CAACG,IAAK,CACf2B,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEC,SAAS,CAAE,OAAO,CAAE0B,WAAW,CAAE,MAAO,CAAE,CACnF,CAAC,cAEFlL,KAAA,QAAKgJ,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BnJ,IAAA,WAAAmJ,QAAA,CAAS1B,IAAI,CAACG,IAAI,CAAS,CAAC,cAC5B5H,IAAA,QAAAmJ,QAAA,CACG1B,IAAI,CAACO,SAAS,cACb9H,KAAA,QAAAiJ,QAAA,eACEjJ,KAAA,SAAMgJ,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAAC,GAChC,CAAC1B,IAAI,CAACO,SAAS,CAACiD,OAAO,CAAC,CAAC,CAAC,EACvB,CAAC,cACP/K,KAAA,SAAMgJ,SAAS,CAAC,yCAAyC,CAAAC,QAAA,EAAC,GACvD,CAAC1B,IAAI,CAACM,KAAK,CAACkD,OAAO,CAAC,CAAC,CAAC,EACnB,CAAC,cACP/K,KAAA,QAAKgJ,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAAC,GACjC,CAACkC,IAAI,CAACC,GAAG,CAAC7D,IAAI,CAACM,KAAK,CAAGN,IAAI,CAACO,SAAS,CAAC,CAACiD,OAAO,CAAC,CAAC,CAAC,CAAC,WACrD,EAAK,CAAC,EACH,CAAC,cAEN/K,KAAA,SAAAiJ,QAAA,EAAM,GAAC,CAAC1B,IAAI,CAACM,KAAK,CAACkD,OAAO,CAAC,CAAC,CAAC,EAAO,CACrC,CACE,CAAC,EACH,CAAC,cAEN/K,KAAA,QAAKgJ,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxCnJ,IAAA,WACEkJ,SAAS,CAAC,kCAAkC,CAC5CK,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAE8B,QAAQ,CAAE,MAAO,CAAE,CAC3DjB,OAAO,CAAEA,CAAA,GAAM3J,aAAa,CAAC8G,IAAI,CAACC,SAAS,CAAE,CAAAyB,QAAA,CAC9C,GAED,CAAQ,CAAC,cACTnJ,IAAA,SAAMkJ,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAE1B,IAAI,CAACK,QAAQ,CAAO,CAAC,cAC7C9H,IAAA,WACEkJ,SAAS,CAAC,kCAAkC,CAC5CK,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAE8B,QAAQ,CAAE,MAAO,CAAE,CAC3DjB,OAAO,CAAEA,CAAA,GAAM5J,aAAa,CAAC+G,IAAI,CAACC,SAAS,CAAE,CAAAyB,QAAA,CAC9C,GAED,CAAQ,CAAC,EACN,CAAC,cAENnJ,IAAA,WACEkJ,SAAS,CAAC,oCAAoC,CAC9CK,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAE8B,QAAQ,CAAE,MAAM,CAAEC,MAAM,CAAE,GAAI,CAAE,CACxElB,OAAO,CAAEA,CAAA,GAAM1J,cAAc,CAAC6G,IAAI,CAACC,SAAS,CAAE,CAAAyB,QAAA,cAE9CnJ,IAAA,MAAGkJ,SAAS,CAAC,aAAa,CAAI,CAAC,CACzB,CAAC,GAvDJzB,IAAI,CAACC,SAwDP,CACN,CAAC,cAGFxH,KAAA,QAAKgJ,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBjJ,KAAA,QAAKgJ,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDnJ,IAAA,SAAAmJ,QAAA,CAAM,UAAQ,CAAM,CAAC,cACrBjJ,KAAA,SAAAiJ,QAAA,EAAM,GAAC,CAAC/G,QAAQ,CAAC6I,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,EAChC,CAAC,CAELrJ,kBAAkB,CAAG,CAAC,eACrB1B,KAAA,QAAKgJ,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDnJ,IAAA,SAAAmJ,QAAA,CAAM,aAAW,CAAM,CAAC,cACxBjJ,KAAA,SAAAiJ,QAAA,EAAM,GAAC,CAACvH,kBAAkB,CAACqJ,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,EAC1C,CACN,cAED/K,KAAA,QAAKgJ,SAAS,CAAC,qDAAqD,CAAAC,QAAA,eAClEjJ,KAAA,SAAAiJ,QAAA,eACEnJ,IAAA,WAAAmJ,QAAA,CAAQ,OAAK,CAAQ,CAAC,CAAC,GAAG,cAC1BnJ,IAAA,SAAMkJ,SAAS,CAAC,gBAAgB,CAACK,KAAK,CAAE,CAAEgC,QAAQ,CAAE,QAAS,CAAE,CAAApC,QAAA,CAAC,kBAEhE,CAAM,CAAC,EACH,CAAC,cACPnJ,IAAA,SAAAmJ,QAAA,cAAMjJ,KAAA,WAAAiJ,QAAA,EAAQ,GAAC,CAAC9G,cAAc,CAAC4I,OAAO,CAAC,CAAC,CAAC,EAAS,CAAC,CAAM,CAAC,EACvD,CAAC,EACH,CAAC,cAGNjL,IAAA,CAACT,MAAM,EACL8K,OAAO,CAAC,SAAS,CACjBnB,SAAS,CAAC,YAAY,CACtBoB,OAAO,CAAEvE,gBAAiB,CAC1B0F,QAAQ,CAAEjL,SAAS,CAACsK,MAAM,GAAK,CAAE,CAAA3B,QAAA,CAClC,aAED,CAAQ,CAAC,cAGTnJ,IAAA,MAAGkJ,SAAS,CAAC,iCAAiC,CAACK,KAAK,CAAE,CAAEgC,QAAQ,CAAE,QAAS,CAAE,CAAApC,QAAA,CAC1E,EAAA7I,YAAA,CAAAE,SAAS,CAAC,CAAC,CAAC,UAAAF,YAAA,iBAAZA,YAAA,CAAc8F,SAAS,IAAK,QAAQ,cACnCpG,IAAA,CAAAI,SAAA,EAAA+I,QAAA,CAAE,mFAAiF,CAAE,CAAC,cAEtFjJ,KAAA,CAAAE,SAAA,EAAA+I,QAAA,EAAE,oDAAkD,CAAC,CAAAnH,aAAa,SAAbA,aAAa,iBAAbA,aAAa,CAAEoG,cAAc,GAAI,YAAY,CAAC,iDAA+C,EAAE,CACrJ,CACA,CAAC,EACJ,CAAC,cAEHpI,IAAA,MAAAmJ,QAAA,CAAG,qBAAmB,CAAG,CAC1B,EACQ,CAAC,CACR,CAAC,CACJ,CAAC,EACH,CAAC,CACG,CAAC,CACT,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9I,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}