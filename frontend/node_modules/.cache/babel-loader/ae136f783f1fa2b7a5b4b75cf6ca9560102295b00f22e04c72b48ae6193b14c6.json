{"ast":null,"code":"var _jsxFileName = \"/Users/home/Desktop/weedhurry-platform/v1/frontend/src/pages/VendorMenuPage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { VendorProvider, VendorContext } from '../context/VendorContext';\nimport VendorDetails from '../components/VendorDetails';\nimport MenuDisplay from '../components/MenuDisplay';\nimport CategoryFilter from '../components/CategoryFilter';\nimport './VendorMenuPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VendorMenuPage = () => {\n  _s();\n  const {\n    vendorId\n  } = useParams();\n  return /*#__PURE__*/_jsxDEV(VendorProvider, {\n    vendorId: vendorId,\n    children: /*#__PURE__*/_jsxDEV(VendorMenuContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }, this);\n};\n_s(VendorMenuPage, \"Rj6Ws+qNqY27Wp2+JBUpnwof7DE=\", false, function () {\n  return [useParams];\n});\n_c = VendorMenuPage;\nconst VendorMenuContent = () => {\n  _s2();\n  const {\n    vendor,\n    products,\n    loading,\n    error\n  } = useContext(VendorContext);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [activeFilters, setActiveFilters] = useState({\n    sativa: false,\n    hybrid: false,\n    indica: false\n  });\n\n  // State for animation\n  const [animate, setAnimate] = useState(false);\n  useEffect(() => {\n    const applyFilters = () => {\n      let updatedProducts = products;\n\n      // Filter by category\n      if (selectedCategory !== 'All') {\n        updatedProducts = updatedProducts.filter(product => product.category === selectedCategory);\n      }\n\n      // Filter by classifications\n      const activeClassifications = Object.entries(activeFilters).filter(([_, isActive]) => isActive).map(([classification]) => classification.toLowerCase());\n      if (activeClassifications.length > 0) {\n        updatedProducts = updatedProducts.filter(product => {\n          var _product$strain;\n          const strain = ((_product$strain = product.strain) === null || _product$strain === void 0 ? void 0 : _product$strain.toLowerCase()) || '';\n          return activeClassifications.some(filter => {\n            if (filter === 'sativa') return strain.includes('sat');\n            if (filter === 'hybrid') return strain.includes('hyb');\n            if (filter === 'indica') return strain.includes('ind');\n            return false;\n          });\n        });\n      }\n\n      // Filter by search term\n      if (searchTerm.trim()) {\n        updatedProducts = updatedProducts.filter(product => [product.name, product.brand, product.strain].filter(Boolean).some(field => field.toLowerCase().includes(searchTerm.trim().toLowerCase())));\n      }\n      setFilteredProducts(updatedProducts);\n    };\n    applyFilters();\n  }, [selectedCategory, activeFilters, searchTerm, products]);\n  useEffect(() => {\n    setAnimate(true); // Trigger animation\n  }, []);\n  const handleCategoryChange = category => setSelectedCategory(category);\n  const handleSearch = term => setSearchTerm(term);\n  const handleFilter = filters => setActiveFilters(filters);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `vendor-menu-page ${animate ? 'slide-in' : ''}`,\n    style: {\n      backgroundColor: '#fff',\n      minHeight: '100vh',\n      padding: '0px',\n      margin: '0',\n      // Ensure no margin for the container\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shared-card\",\n      children: [/*#__PURE__*/_jsxDEV(VendorDetails, {\n        vendor: vendor\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'sticky',\n          top: '0',\n          // Adjust as needed for any offset (e.g., a fixed navbar)\n          zIndex: 1030,\n          // Ensure it stays above other elements\n          backgroundColor: 'white',\n          // Set a background to avoid content overlapping\n          borderBottom: '1px solid #ddd' // Optional: Add a border for visual separation\n        },\n        children: /*#__PURE__*/_jsxDEV(CategoryFilter, {\n          selectedCategory: selectedCategory,\n          onCategoryChange: handleCategoryChange,\n          onSearch: handleSearch,\n          onFilter: handleFilter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 3\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(MenuDisplay, {\n        products: filteredProducts,\n        vendorName: vendor === null || vendor === void 0 ? void 0 : vendor.dispensaryName,\n        logoUrl: vendor === null || vendor === void 0 ? void 0 : vendor.logoUrl,\n        vendorId: vendor === null || vendor === void 0 ? void 0 : vendor._id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n_s2(VendorMenuContent, \"HTMaaDqKIMz/EM+PqG9nvg/rhfA=\");\n_c2 = VendorMenuContent;\nexport default VendorMenuPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"VendorMenuPage\");\n$RefreshReg$(_c2, \"VendorMenuContent\");","map":{"version":3,"names":["React","useContext","useState","useEffect","useParams","VendorProvider","VendorContext","VendorDetails","MenuDisplay","CategoryFilter","jsxDEV","_jsxDEV","VendorMenuPage","_s","vendorId","children","VendorMenuContent","fileName","_jsxFileName","lineNumber","columnNumber","_c","_s2","vendor","products","loading","error","filteredProducts","setFilteredProducts","selectedCategory","setSelectedCategory","searchTerm","setSearchTerm","activeFilters","setActiveFilters","sativa","hybrid","indica","animate","setAnimate","applyFilters","updatedProducts","filter","product","category","activeClassifications","Object","entries","_","isActive","map","classification","toLowerCase","length","_product$strain","strain","some","includes","trim","name","brand","Boolean","field","handleCategoryChange","handleSearch","term","handleFilter","filters","className","style","backgroundColor","minHeight","padding","margin","display","justifyContent","alignItems","position","top","zIndex","borderBottom","onCategoryChange","onSearch","onFilter","vendorName","dispensaryName","logoUrl","_id","_c2","$RefreshReg$"],"sources":["/Users/home/Desktop/weedhurry-platform/v1/frontend/src/pages/VendorMenuPage.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { VendorProvider, VendorContext } from '../context/VendorContext';\nimport VendorDetails from '../components/VendorDetails';\nimport MenuDisplay from '../components/MenuDisplay';\nimport CategoryFilter from '../components/CategoryFilter';\nimport './VendorMenuPage.css';\n\nconst VendorMenuPage = () => {\n  const { vendorId } = useParams();\n\n  return (\n    <VendorProvider vendorId={vendorId}>\n      <VendorMenuContent />\n    </VendorProvider>\n  );\n};\n\nconst VendorMenuContent = () => {\n  const { vendor, products, loading, error } = useContext(VendorContext);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [activeFilters, setActiveFilters] = useState({\n    sativa: false,\n    hybrid: false,\n    indica: false,\n  });\n\n  // State for animation\n  const [animate, setAnimate] = useState(false);\n\n  useEffect(() => {\n    const applyFilters = () => {\n      let updatedProducts = products;\n\n      // Filter by category\n      if (selectedCategory !== 'All') {\n        updatedProducts = updatedProducts.filter(\n          (product) => product.category === selectedCategory\n        );\n      }\n\n      // Filter by classifications\n      const activeClassifications = Object.entries(activeFilters)\n        .filter(([_, isActive]) => isActive)\n        .map(([classification]) => classification.toLowerCase());\n\n      if (activeClassifications.length > 0) {\n        updatedProducts = updatedProducts.filter((product) => {\n          const strain = product.strain?.toLowerCase() || '';\n          return activeClassifications.some((filter) => {\n            if (filter === 'sativa') return strain.includes('sat');\n            if (filter === 'hybrid') return strain.includes('hyb');\n            if (filter === 'indica') return strain.includes('ind');\n            return false;\n          });\n        });\n      }\n\n      // Filter by search term\n      if (searchTerm.trim()) {\n        updatedProducts = updatedProducts.filter((product) =>\n          [product.name, product.brand, product.strain]\n            .filter(Boolean)\n            .some((field) =>\n              field.toLowerCase().includes(searchTerm.trim().toLowerCase())\n            )\n        );\n      }\n\n      setFilteredProducts(updatedProducts);\n    };\n\n    applyFilters();\n  }, [selectedCategory, activeFilters, searchTerm, products]);\n\n  useEffect(() => {\n    setAnimate(true); // Trigger animation\n  }, []);\n\n  const handleCategoryChange = (category) => setSelectedCategory(category);\n  const handleSearch = (term) => setSearchTerm(term);\n  const handleFilter = (filters) => setActiveFilters(filters);\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>Error: {error}</div>;\n\n  return (\n    <div\n  className={`vendor-menu-page ${animate ? 'slide-in' : ''}`}\n  style={{\n    backgroundColor: '#fff',\n    minHeight: '100vh',\n    padding: '0px',\n    margin: '0', // Ensure no margin for the container\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  }}\n>\n  <div className=\"shared-card\">\n    <VendorDetails vendor={vendor} />\n    <div\n  style={{\n    position: 'sticky',\n    top: '0', // Adjust as needed for any offset (e.g., a fixed navbar)\n    zIndex: 1030, // Ensure it stays above other elements\n    backgroundColor: 'white', // Set a background to avoid content overlapping\n    borderBottom: '1px solid #ddd', // Optional: Add a border for visual separation\n  }}\n>\n  <CategoryFilter\n    selectedCategory={selectedCategory}\n    onCategoryChange={handleCategoryChange}\n    onSearch={handleSearch}\n    onFilter={handleFilter}\n  />\n</div>\n\n    \n    <MenuDisplay\n      products={filteredProducts}\n      vendorName={vendor?.dispensaryName}\n      logoUrl={vendor?.logoUrl}\n      vendorId={vendor?._id}\n    />\n  </div>\n</div>\n  );\n};\n\nexport default VendorMenuPage;\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC9D,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,cAAc,EAAEC,aAAa,QAAQ,0BAA0B;AACxE,OAAOC,aAAa,MAAM,6BAA6B;AACvD,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,cAAc,MAAM,8BAA8B;AACzD,OAAO,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9B,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM;IAAEC;EAAS,CAAC,GAAGV,SAAS,CAAC,CAAC;EAEhC,oBACEO,OAAA,CAACN,cAAc;IAACS,QAAQ,EAAEA,QAAS;IAAAC,QAAA,eACjCJ,OAAA,CAACK,iBAAiB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAErB,CAAC;AAACP,EAAA,CARID,cAAc;EAAA,QACGR,SAAS;AAAA;AAAAiB,EAAA,GAD1BT,cAAc;AAUpB,MAAMI,iBAAiB,GAAGA,CAAA,KAAM;EAAAM,GAAA;EAC9B,MAAM;IAAEC,MAAM;IAAEC,QAAQ;IAAEC,OAAO;IAAEC;EAAM,CAAC,GAAGzB,UAAU,CAACK,aAAa,CAAC;EACtE,MAAM,CAACqB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAAC2B,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAAC6B,UAAU,EAAEC,aAAa,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC+B,aAAa,EAAEC,gBAAgB,CAAC,GAAGhC,QAAQ,CAAC;IACjDiC,MAAM,EAAE,KAAK;IACbC,MAAM,EAAE,KAAK;IACbC,MAAM,EAAE;EACV,CAAC,CAAC;;EAEF;EACA,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGrC,QAAQ,CAAC,KAAK,CAAC;EAE7CC,SAAS,CAAC,MAAM;IACd,MAAMqC,YAAY,GAAGA,CAAA,KAAM;MACzB,IAAIC,eAAe,GAAGjB,QAAQ;;MAE9B;MACA,IAAIK,gBAAgB,KAAK,KAAK,EAAE;QAC9BY,eAAe,GAAGA,eAAe,CAACC,MAAM,CACrCC,OAAO,IAAKA,OAAO,CAACC,QAAQ,KAAKf,gBACpC,CAAC;MACH;;MAEA;MACA,MAAMgB,qBAAqB,GAAGC,MAAM,CAACC,OAAO,CAACd,aAAa,CAAC,CACxDS,MAAM,CAAC,CAAC,CAACM,CAAC,EAAEC,QAAQ,CAAC,KAAKA,QAAQ,CAAC,CACnCC,GAAG,CAAC,CAAC,CAACC,cAAc,CAAC,KAAKA,cAAc,CAACC,WAAW,CAAC,CAAC,CAAC;MAE1D,IAAIP,qBAAqB,CAACQ,MAAM,GAAG,CAAC,EAAE;QACpCZ,eAAe,GAAGA,eAAe,CAACC,MAAM,CAAEC,OAAO,IAAK;UAAA,IAAAW,eAAA;UACpD,MAAMC,MAAM,GAAG,EAAAD,eAAA,GAAAX,OAAO,CAACY,MAAM,cAAAD,eAAA,uBAAdA,eAAA,CAAgBF,WAAW,CAAC,CAAC,KAAI,EAAE;UAClD,OAAOP,qBAAqB,CAACW,IAAI,CAAEd,MAAM,IAAK;YAC5C,IAAIA,MAAM,KAAK,QAAQ,EAAE,OAAOa,MAAM,CAACE,QAAQ,CAAC,KAAK,CAAC;YACtD,IAAIf,MAAM,KAAK,QAAQ,EAAE,OAAOa,MAAM,CAACE,QAAQ,CAAC,KAAK,CAAC;YACtD,IAAIf,MAAM,KAAK,QAAQ,EAAE,OAAOa,MAAM,CAACE,QAAQ,CAAC,KAAK,CAAC;YACtD,OAAO,KAAK;UACd,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ;;MAEA;MACA,IAAI1B,UAAU,CAAC2B,IAAI,CAAC,CAAC,EAAE;QACrBjB,eAAe,GAAGA,eAAe,CAACC,MAAM,CAAEC,OAAO,IAC/C,CAACA,OAAO,CAACgB,IAAI,EAAEhB,OAAO,CAACiB,KAAK,EAAEjB,OAAO,CAACY,MAAM,CAAC,CAC1Cb,MAAM,CAACmB,OAAO,CAAC,CACfL,IAAI,CAAEM,KAAK,IACVA,KAAK,CAACV,WAAW,CAAC,CAAC,CAACK,QAAQ,CAAC1B,UAAU,CAAC2B,IAAI,CAAC,CAAC,CAACN,WAAW,CAAC,CAAC,CAC9D,CACJ,CAAC;MACH;MAEAxB,mBAAmB,CAACa,eAAe,CAAC;IACtC,CAAC;IAEDD,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,CAACX,gBAAgB,EAAEI,aAAa,EAAEF,UAAU,EAAEP,QAAQ,CAAC,CAAC;EAE3DrB,SAAS,CAAC,MAAM;IACdoC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMwB,oBAAoB,GAAInB,QAAQ,IAAKd,mBAAmB,CAACc,QAAQ,CAAC;EACxE,MAAMoB,YAAY,GAAIC,IAAI,IAAKjC,aAAa,CAACiC,IAAI,CAAC;EAClD,MAAMC,YAAY,GAAIC,OAAO,IAAKjC,gBAAgB,CAACiC,OAAO,CAAC;EAE3D,IAAI1C,OAAO,EAAE,oBAAOd,OAAA;IAAAI,QAAA,EAAK;EAAU;IAAAE,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EACzC,IAAIM,KAAK,EAAE,oBAAOf,OAAA;IAAAI,QAAA,GAAK,SAAO,EAACW,KAAK;EAAA;IAAAT,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;EAE3C,oBACET,OAAA;IACFyD,SAAS,EAAE,oBAAoB9B,OAAO,GAAG,UAAU,GAAG,EAAE,EAAG;IAC3D+B,KAAK,EAAE;MACLC,eAAe,EAAE,MAAM;MACvBC,SAAS,EAAE,OAAO;MAClBC,OAAO,EAAE,KAAK;MACdC,MAAM,EAAE,GAAG;MAAE;MACbC,OAAO,EAAE,MAAM;MACfC,cAAc,EAAE,QAAQ;MACxBC,UAAU,EAAE;IACd,CAAE;IAAA7D,QAAA,eAEFJ,OAAA;MAAKyD,SAAS,EAAC,aAAa;MAAArD,QAAA,gBAC1BJ,OAAA,CAACJ,aAAa;QAACgB,MAAM,EAAEA;MAAO;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACjCT,OAAA;QACF0D,KAAK,EAAE;UACLQ,QAAQ,EAAE,QAAQ;UAClBC,GAAG,EAAE,GAAG;UAAE;UACVC,MAAM,EAAE,IAAI;UAAE;UACdT,eAAe,EAAE,OAAO;UAAE;UAC1BU,YAAY,EAAE,gBAAgB,CAAE;QAClC,CAAE;QAAAjE,QAAA,eAEFJ,OAAA,CAACF,cAAc;UACboB,gBAAgB,EAAEA,gBAAiB;UACnCoD,gBAAgB,EAAElB,oBAAqB;UACvCmB,QAAQ,EAAElB,YAAa;UACvBmB,QAAQ,EAAEjB;QAAa;UAAAjD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGFT,OAAA,CAACH,WAAW;QACVgB,QAAQ,EAAEG,gBAAiB;QAC3ByD,UAAU,EAAE7D,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE8D,cAAe;QACnCC,OAAO,EAAE/D,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE+D,OAAQ;QACzBxE,QAAQ,EAAES,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEgE;MAAI;QAAAtE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEN,CAAC;AAACE,GAAA,CAhHIN,iBAAiB;AAAAwE,GAAA,GAAjBxE,iBAAiB;AAkHvB,eAAeJ,cAAc;AAAC,IAAAS,EAAA,EAAAmE,GAAA;AAAAC,YAAA,CAAApE,EAAA;AAAAoE,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}