{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{MapPin}from'lucide-react';import NearbyVendorsPage from'./NearbyVendorsPage';import NearbyPickupPage from'./NearbyPickupPage';import SearchBar from'./SearchBar';import DPNavBar from'./DPNavBar';import'./DeliveryPickupWrapper.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DeliveryPickupWrapper=()=>{const[selectedOption,setSelectedOption]=useState('Delivery');const[searchQuery,setSearchQuery]=useState('');const[animate,setAnimate]=useState(false);const[isScrolled,setIsScrolled]=useState(false);const[parsedAddress,setParsedAddress]=useState({street:'',city:'',stateAbbreviation:''});const navigate=useNavigate();useEffect(()=>{setAnimate(true);const savedAddress=localStorage.getItem('userAddress');if(savedAddress){var _parts$,_parts$2,_parts$3;const parts=savedAddress.split(',');setParsedAddress({street:((_parts$=parts[0])===null||_parts$===void 0?void 0:_parts$.trim())||'',city:((_parts$2=parts[1])===null||_parts$2===void 0?void 0:_parts$2.trim())||'',stateAbbreviation:((_parts$3=parts[2])===null||_parts$3===void 0?void 0:_parts$3.trim().split(' ')[0])||''});}// Add scroll listener for toolbar shadow\nconst handleScroll=()=>{setIsScrolled(window.scrollY>0);};window.addEventListener('scroll',handleScroll);return()=>window.removeEventListener('scroll',handleScroll);},[]);const clearAddressAndNavigate=()=>{localStorage.removeItem('userAddress');navigate('/');};return/*#__PURE__*/_jsxs(\"div\",{className:`delivery-pickup-wrapper ${animate?'slide-in':''}`,children:[/*#__PURE__*/_jsx(DPNavBar,{selectedOption:selectedOption,setSelectedOption:setSelectedOption}),/*#__PURE__*/_jsx(\"div\",{className:`toolbar-container ${isScrolled?'scrolled':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar-inner\",children:[/*#__PURE__*/_jsx(SearchBar,{searchQuery:searchQuery,setSearchQuery:setSearchQuery}),/*#__PURE__*/_jsxs(\"div\",{className:\"location-selector\",onClick:clearAddressAndNavigate,children:[/*#__PURE__*/_jsx(MapPin,{size:18,className:\"location-icon\",strokeWidth:2.5}),parsedAddress.street||parsedAddress.city||parsedAddress.stateAbbreviation?/*#__PURE__*/_jsx(\"span\",{className:\"address-text\",children:parsedAddress.street||`${parsedAddress.city}, ${parsedAddress.stateAbbreviation}`}):null]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"content-section\",children:selectedOption==='Delivery'?/*#__PURE__*/_jsx(NearbyVendorsPage,{searchQuery:searchQuery}):/*#__PURE__*/_jsx(NearbyPickupPage,{searchQuery:searchQuery})})]});};export default DeliveryPickupWrapper;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","MapPin","NearbyVendorsPage","NearbyPickupPage","SearchBar","DPNavBar","jsx","_jsx","jsxs","_jsxs","DeliveryPickupWrapper","selectedOption","setSelectedOption","searchQuery","setSearchQuery","animate","setAnimate","isScrolled","setIsScrolled","parsedAddress","setParsedAddress","street","city","stateAbbreviation","navigate","savedAddress","localStorage","getItem","_parts$","_parts$2","_parts$3","parts","split","trim","handleScroll","window","scrollY","addEventListener","removeEventListener","clearAddressAndNavigate","removeItem","className","children","onClick","size","strokeWidth"],"sources":["/Users/home/Desktop/weedhurry-platform/v1/frontend/src/components/DeliveryPickupWrapper.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { MapPin } from 'lucide-react';\nimport NearbyVendorsPage from './NearbyVendorsPage';\nimport NearbyPickupPage from './NearbyPickupPage';\nimport SearchBar from './SearchBar';\nimport DPNavBar from './DPNavBar';\nimport './DeliveryPickupWrapper.css';\n\nconst DeliveryPickupWrapper = () => {\n  const [selectedOption, setSelectedOption] = useState('Delivery');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [animate, setAnimate] = useState(false);\n  const [isScrolled, setIsScrolled] = useState(false);\n  const [parsedAddress, setParsedAddress] = useState({ \n    street: '', \n    city: '', \n    stateAbbreviation: '' \n  });\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    setAnimate(true);\n    const savedAddress = localStorage.getItem('userAddress');\n    if (savedAddress) {\n      const parts = savedAddress.split(',');\n      setParsedAddress({\n        street: parts[0]?.trim() || '',\n        city: parts[1]?.trim() || '',\n        stateAbbreviation: parts[2]?.trim().split(' ')[0] || '',\n      });\n    }\n\n    // Add scroll listener for toolbar shadow\n    const handleScroll = () => {\n      setIsScrolled(window.scrollY > 0);\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const clearAddressAndNavigate = () => {\n    localStorage.removeItem('userAddress');\n    navigate('/');\n  };\n\n  return (\n    <div className={`delivery-pickup-wrapper ${animate ? 'slide-in' : ''}`}>\n      {/* Navbar */}\n      <DPNavBar \n        selectedOption={selectedOption} \n        setSelectedOption={setSelectedOption}\n      />\n\n      {/* Toolbar Section */}\n      <div className={`toolbar-container ${isScrolled ? 'scrolled' : ''}`}>\n        <div className=\"toolbar-inner\">\n          <SearchBar searchQuery={searchQuery} setSearchQuery={setSearchQuery} />\n          \n          {/* Address Selector */}\n          <div \n            className=\"location-selector\"\n            onClick={clearAddressAndNavigate}\n          >\n            <MapPin \n              size={18}\n              className=\"location-icon\"\n              strokeWidth={2.5}\n            />\n            {parsedAddress.street || parsedAddress.city || parsedAddress.stateAbbreviation ? (\n              <span className=\"address-text\">\n                {parsedAddress.street || `${parsedAddress.city}, ${parsedAddress.stateAbbreviation}`}\n              </span>\n            ) : null}\n          </div>\n        </div>\n      </div>\n\n      {/* Content Section */}\n      <div className=\"content-section\">\n        {selectedOption === 'Delivery' ? (\n          <NearbyVendorsPage searchQuery={searchQuery} />\n        ) : (\n          <NearbyPickupPage searchQuery={searchQuery} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DeliveryPickupWrapper;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}